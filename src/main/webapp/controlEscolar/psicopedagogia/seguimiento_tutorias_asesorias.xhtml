<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:adm="http://github.com/adminfaces"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                template="#{layoutMB.template}"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:o="http://omnifaces.org/ui"
                xmlns:fn="http://xmlns.jcp.org/jsp/jstl/functions"
                >

    <ui:define name="head-end">
        <h:outputStylesheet library="css" name="tablaDatos.css"/>
        <h:outputStylesheet library="css" name="timepicker.css"/>
        <h:outputStylesheet library="primefaces62" name="inputnumber.css" />
        <h:outputScript library="js" name="dialogs.js"/>        
        <h:outputScript library="js" name="calendario.js"/>
        <h:outputScript library="primefaces62" name="inputnumber.js"  />
        <!-- Inicio estilos par proceso electoral -->
        <c:if test="#{utilidadesAcceso.procesoElectoralActivo}">
            <link rel="stylesheet" type="text/css" href="../../resources/css/procesoElectoral.css" media="screen"/>
        </c:if>
        <!-- Fin estilos par proceso electoral -->
    </ui:define>

    <ui:define name="title">
        Tutorías y Asesorías
    </ui:define>

    <ui:define name="description">

    </ui:define>

    <ui:define name="body">
        <c:if test="#{validacionPlanAccionTutorialPsicopedagogia.cargado}">
            <adm:breadcrumb title="Seguimiento de tutorías y asesorías"/>
            <adm:sidebar collapsed="true"/>
            <div class="contenedor">
                <c:if test="#{validacionPlanAccionTutorialPsicopedagogia.tieneAcceso}">
                    <!-- zona de importación de enums -->
                    <p:importEnum type="mx.edu.utxj.pye.sgi.enums.PlanAccionTutorialEstado" var="patEstado" allSuffix="ESTADOS" />
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <h:form id="frmEncabezado" prependId="false" class="form-inline">
                                <div id="main-buttons" class="hidden-sm hidden-xs">
                                    <p:toolbar id="tb">
                                        <f:facet name="left">
                                            <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                            <p:outputLabel value="Periodo activo: #{caster.clavePeriodoToString(validacionPlanAccionTutorialPsicopedagogia.rol.periodoActivo)} " />
                                            <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                            <p:outputLabel value="Evento de registro activo: #{validacionPlanAccionTutorialPsicopedagogia.rol.eventoRegistroActivo.mes} " />
                                            <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                            <p:outputLabel value="Antes de iniciar el seguimiento favor de verificar que los filtros seleccionados seán los correctos" />
                                        </f:facet>
                                        <f:facet name="right">
                                            
<!--                                            <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                            <p:commandLink class="btn btn-info btn-sm" ajax="false" action="#" target="_blank" value="Reporte Cuatrimestral General - " title="Reporte Cuatrimestral General"><i class="fa fa-file-excel-o" /></p:commandLink>
                                            
                                            <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                            <p:commandLink class="btn btn-info btn-sm" ajax="false" action="#" target="_blank" value="Reporte Cuatrimestral por ProgramaEducativo - " title="Reporte Cuatrimestral por ProgramaEducativo"><i class="fa fa-file-excel-o" /></p:commandLink>
                                            -->
                                            <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                            <p:commandLink class="btn btn-info" rendered="#{true}" disabled="#{false}"
                                                           onclick="PF('modalAyuda').show();"
                                                           process="@this"
                                                           title="Presione el botón para obtener ayuda sobre la operación de ésta herramienta."><i class="fa fa-question" />
                                            </p:commandLink>
                                        </f:facet>
                                    </p:toolbar>
                                </div>
                            </h:form>
                            <div class="box box-solid">
                                <div class="box-body">
                                    <h:form id="frmFiltros" prependId="false" class="form-inline">
                                        <c:set var="casilla" value="#{'col-sm-12 col-md-4 col-lg-2'}" />
                                        <c:set var="casilla2" value="#{'col-sm-12 col-md-8 col-lg-6'}" />
                                        <c:set var="casilla3" value="#{'col-sm-12 col-md-3 col-lg-1'}" />
                                        <c:set var="casilla4" value="#{'col-sm-12 col-md-6 col-lg-4'}" />
                                        <div class="row margin-bottom" style="margin-top: 20px;">

                                            <div class="#{casilla}">
                                                <div class="ui-material">
                                                    <p:selectOneMenu id="periodo" value="#{validacionPlanAccionTutorialPsicopedagogia.rol.periodoSeleccionado}" converter="entityConverter" styleClass="form-control" >
                                                        <f:selectItems value="#{validacionPlanAccionTutorialPsicopedagogia.rol.periodosConPlanAccionTutorial}" var="periodo" itemValue="#{periodo}" itemLabel="#{caster.periodoToString(periodo)}" />
                                                        <p:ajax process="@this" update="@this programaEducativo contenedorConcentradoEstadistico contenedor contenedorAsesorias contenedorAsesoriasPorGrupo modalFuncionesPlanAccionTutorial modalSesionesPlanAccionTutorial modalTutoriasGrupales modalTutoriasIndividuales modalAsesorias modalAsesoriasGenerales modalAsesoriasDocenteSinPat modalAsesoriasGeneralesDocenteSinPat" listener="#{validacionPlanAccionTutorialPsicopedagogia.cambiarPeriodo}" />
                                                    </p:selectOneMenu>
                                                    <p:outputLabel value="Periodo" for="periodo"/>
                                                    <p:message for="periodo" />
                                                </div>
                                            </div>

                                            <div class="#{casilla4}">
                                                <div class="ui-material">
                                                    <p:selectOneMenu id="programaEducativo" value="#{validacionPlanAccionTutorialPsicopedagogia.rol.programaEducativo}" converter="entityConverter" styleClass="form-control" filter="true" filterMatchMode="contains" >
                                                        <f:selectItems value="#{validacionPlanAccionTutorialPsicopedagogia.rol.programasEducativos}" var="programaEducativo" itemValue="#{programaEducativo}" itemLabel="#{programaEducativo.nombre}" />
                                                        <p:ajax process="@this" update="@this contenedorConcentradoEstadistico contenedor contenedorAsesorias contenedorAsesoriasPorGrupo modalFuncionesPlanAccionTutorial modalSesionesPlanAccionTutorial modalTutoriasGrupales modalTutoriasIndividuales modalAsesorias modalAsesoriasGenerales modalAsesoriasDocenteSinPat modalAsesoriasGeneralesDocenteSinPat" listener="#{validacionPlanAccionTutorialPsicopedagogia.cambiarProgramaEducativo}" />
                                                    </p:selectOneMenu>
                                                    <p:outputLabel value="Programa Educativo" for="programaEducativo"/>
                                                    <p:message for="programaEducativo" ><p:autoUpdate/></p:message>
                                                </div>
                                            </div>

                                        </div>
                                    </h:form>
                                    
                                    <!-- Concentrados Estadísticos mensuales -->

                                    <!-- Mes y Programa Educativo Seleccionados -->
                                    <h:form id="frmConcentradoProgramaEducativo" prependId="false" class="form-inline">
                                        <p:remoteCommand id="actualizarConcentradoProgramaEducativo" name="actualizarConcentradoProgramaEducativo" actionListener="#{validacionPlanAccionTutorialPsicopedagogia.actualizar}" process="@this" update="contenedorConcentradoEstadistico" />
                                        <div class="row">
                                            <div class="box box-primary">
                                                <div class="col-lg-12 col-md-12 text-info">
                                                    <p:outputPanel id="contenedorConcentradoEstadistico">
                                                        <div class="row margin-bottom" style="margin-bottom: 10px;">
                                                            <p:toolbar>
                                                                <f:facet name="left">
                                                                    <h4 style="padding-top: 5px;font-weight: 600;"><p:spacer width="20" height="20"/>1.- Concentrado mensual de registro de tutorías y asesorías del programa educativo: #{validacionPlanAccionTutorialPsicopedagogia.rol.programaEducativo.nombre}</h4>

                                                                    <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                                    <p:outputLabel value="Asesorias Generales: Son registradas cuando uno ó varios estudiantes solicitan a docentes de diferentes programas educativos apoyo con asesorías de algún tema en especifico." style="padding-top: 5px;" />
                                                                    <p></p>
                                                                    <p></p>

                                                                    <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                                    <p:outputLabel value="Seleccione un mes de registro: " style="padding-bottom: 10px;" />
                                                                    <p></p>

                                                                    <div class="ui-material">
                                                                        <p:selectOneMenu id="mesConcentradoMensual" value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado}" converter="entityConverter" styleClass="form-control">
                                                                            <f:selectItems value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" itemValue="#{evento}" itemLabel="#{evento.mes}" />
                                                                            <p:ajax process="@this" update="@this dtConcentradoEstadisticoProgramaEducativo" listener="#{validacionPlanAccionTutorialPsicopedagogia.cambiarEventoConcentradoTutoriasAsesoriasMensual()}" />
                                                                        </p:selectOneMenu>
                                                                        <p:message for="mesConcentradoMensual" />
                                                                    </div>
                                                                    <p></p>

                                                                </f:facet>
                                                            </p:toolbar>
                                                            <center>
                                                                <p:dataTable id="dtConcentradoEstadisticoProgramaEducativo" 
                                                                             widgetVar="dtConcentradoEstadisticoProgramaEducativo"
                                                                             var="dtoGrupo" 
                                                                             value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoPlanAccionTutorial}"
                                                                             filteredValue="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoPlanAccionTutorialFiltro}"
                                                                             tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                             resizeMode="expand"
                                                                             emptyMessage="Aún no se han registrado planes de acción tutorial en el periodo y programa educativo seleccionado"
                                                                             >
                                                                    <p:columnGroup type="header">
                                                                        <p:row class="sucess">
                                                                            <p:column rowspan="4"   headerText="Grupo"                                        width="20"/>
                                                                            <p:column rowspan="4"   headerText="Sistema"                                      width="20"/>
                                                                            <p:column colspan="12"  headerText="Tutorías"                                     width="100"/>
                                                                            <p:column colspan="6"   headerText="Asesorías"                                    width="100"/>
                                                                            <p:column colspan="6"   headerText="Asesorías Generales"                          width="100"/>
                                                                        </p:row>

                                                                        <p:row class="sucess">
                                                                            <p:column colspan="6"   headerText="Grupales"                                       width="50"/>

                                                                            <p:column colspan="6"   headerText="Individuales"                                   width="50"/>

                                                                            <p:column colspan="3"   headerText="Grupales"                                       width="50"/>
                                                                            <p:column colspan="3"   headerText="Individuales"                                   width="50"/>

                                                                            <p:column colspan="3"   headerText="Grupales"                                       width="50"/>
                                                                            <p:column colspan="3"   headerText="Individuales"                                   width="50"/>
                                                                        </p:row>

                                                                        <p:row class="sucess">
                                                                            <p:column colspan="2"   headerText="No"/>
                                                                            <p:column colspan="2"   headerText="Mujeres"/>
                                                                            <p:column colspan="2"   headerText="Hombres"/>

                                                                            <p:column colspan="2"   headerText="No"/>
                                                                            <p:column colspan="2"   headerText="Mujeres"/>
                                                                            <p:column colspan="2"   headerText="Hombres"/>

                                                                            <p:column headerText="No"/>
                                                                            <p:column headerText="Mujeres"/>
                                                                            <p:column headerText="Hombres" />

                                                                            <p:column headerText="No"/>
                                                                            <p:column headerText="Mujeres"/>
                                                                            <p:column headerText="Hombres"/>

                                                                            <p:column headerText="No"/>
                                                                            <p:column headerText="Mujeres"/>
                                                                            <p:column headerText="Hombres"/>

                                                                            <p:column headerText="No"/>
                                                                            <p:column headerText="Mujeres"/>
                                                                            <p:column headerText="Hombres"/>
                                                                        </p:row>
                                                                    </p:columnGroup>

                                                                    <!--Grado y grupo-->

                                                                    <p:column style="align-content: center;text-align: center;">
                                                                        <h:outputText value="#{dtoGrupo.planAccionTutorial.grupo.grado}° #{dtoGrupo.planAccionTutorial.grupo.literal}" />
                                                                    </p:column>

                                                                    <!--Sistema-->

                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{dtoGrupo.planAccionTutorial.grupo.idSistema.nombre}" />
                                                                    </p:column>

                                                                    <!--Tutorias Grupales-->
                                                                    
                                                                    <c:set var="notg" value="#{validacionPlanAccionTutorialPsicopedagogia.noTutoriasGrupalesConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}"/>
                                                                    <p:column style="align-content: center;text-align: center;#{notg > 0 ? '' : 'background-color:#FFE0DA'}" colspan="2">
                                                                        <h:outputText value="#{notg}" />
                                                                    </p:column>
                                                                    <p:column style="align-content: center;text-align: center;" colspan="2">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesMujeresTutoriaGrupalConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>
                                                                    <p:column style="align-content: center;text-align: center" colspan="2">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesHombresTutoriaGrupalConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>

                                                                    <!--Tutorias Individuales-->
                                                                    
                                                                    <c:set var="noti" value="#{validacionPlanAccionTutorialPsicopedagogia.noTutoriasIndividualesConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}"/>
                                                                    <p:column style="align-content: center;text-align: center;#{noti > 0 ? '' : 'background-color:#FFE0DA'}" colspan="2">
                                                                        <h:outputText value="#{noti}" />
                                                                    </p:column>
                                                                    <p:column style="align-content: center;text-align: center" colspan="2">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesMujeresTutoriaIndividualConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>
                                                                    <p:column style="align-content: center;text-align: center" colspan="2">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesHombresTutoriaIndividualConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>

                                                                    <!--Asesorías Grupales-->
                                                                    
                                                                    <c:set var="noag" value="#{validacionPlanAccionTutorialPsicopedagogia.noAsesoriasGrupalesConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}"/>
                                                                    <p:column style="align-content: center;text-align: center;#{noag > 0 ? '' : 'background-color:#FFE0DA'}">
                                                                        <h:outputText value="#{noag}" />
                                                                    </p:column>
                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesMujeresAsesoriaGrupalConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>
                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesHombresAsesoriaGrupalConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>

                                                                    <!--Asesorías Individuales-->
                                                                    
                                                                    <c:set var="noai" value="#{validacionPlanAccionTutorialPsicopedagogia.noAsesoriasIndividualesConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}"/>
                                                                    <p:column style="align-content: center;text-align: center;#{noai > 0 ? '' : 'background-color:#FFE0DA'}">
                                                                        <h:outputText value="#{noai}" />
                                                                    </p:column>
                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesMujeresAsesoriaIndividualConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>
                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesHombresAsesoriaIndividualConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>

                                                                    <!--Asesorías Generales Grupales-->
                                                                    
                                                                    <c:set var="noagg" value="#{validacionPlanAccionTutorialPsicopedagogia.noAsesoriasGrupalesGeneralesConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}"/>
                                                                    <p:column style="align-content: center;text-align: center;#{noagg > 0 ? '' : 'background-color:#FFE0DA'}">
                                                                        <h:outputText value="#{noagg}" />
                                                                    </p:column>

                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesMujeresAsesoriaGrupalGeneralConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>

                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesHombresAsesoriaGrupalGeneralConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>

                                                                    <!--Asesorías Generales Individuales-->
                                                                    
                                                                    <c:set var="noagi" value="#{validacionPlanAccionTutorialPsicopedagogia.noAsesoriasIndividualesGeneralesConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}"/>
                                                                    <p:column style="align-content: center;text-align: center;#{noagi > 0 ? '' : 'background-color:#FFE0DA'}">
                                                                        <h:outputText value="#{noagi}" />
                                                                    </p:column>

                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesMujeresAsesoriaGeneralConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>

                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.noAsistentesHombresAsesoriaGeneralConcentradoMensual(dtoGrupo, validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado)}" />
                                                                    </p:column>

                                                                    <f:facet name="footer">
                                                                        <div style="text-align: left">
                                                                            <p:column style="text-align: left;">
                                                                                Existen un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoPlanAccionTutorial)} grupo(s) activo(s).
                                                                            </p:column>
                                                                        </div>
                                                                    </f:facet>
                                                                </p:dataTable>
                                                            </center>

                                                        </div>
                                                    </p:outputPanel>
                                                </div>
                                            </div>
                                        </div>
                                    </h:form>
                                    
                                    <p:separator/>
                                    
                                    <!-- Tutorias grupales, Tutorias individuales, Asesorías Grupales, Asesorias Individuales, Asesorías Generales Grupales, Asesorías Generales Individuales por docente -->
                                    <h:form id="frmRegistro" prependId="false" class="form-inline">
                                        <p:remoteCommand id="actualizarPlanesAccionTutorial" name="actualizarPlanesAccionTutorial" actionListener="#{validacionPlanAccionTutorialPsicopedagogia.actualizar}" process="@this" update="contenedor modalFuncionesPlanAccionTutorial modalSesionesPlanAccionTutorial modalTutoriasGrupales modalTutoriasIndividuales modalAsesorias modalAsesoriasGenerales" />
                                        <div class="row">
                                            <div class="box box-primary">
                                            <div class="col-lg-12 col-md-12 text-info">

                                                <p:outputPanel id="contenedor">
                                                    <div class="row margin-bottom" style="margin-bottom: 10px;">
                                                        <p:toolbar>
                                                            <f:facet name="left">
                                                                <h4 style="padding-top: 5px;font-weight: 600;"><p:spacer width="20" height="20"/>2.- Listado de tutorías y asesorías registradas por los tutores.</h4>
                                                                
                                                                <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                                <p:outputLabel value="La consulta de asesorías y asesorías generales muestra los datos que ha registrado el tutor como su función de docente." style="padding-top: 5px;" />
                                                                <p></p>
                                                                
                                                                <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                                <p:outputLabel value="Si desea consultar únicamente las asesorías impartidas a los grupos del programa educativo seleccionado favor de consultar la sección No.3 de esta página." style="padding-top: 5px;" />
                                                                <p></p>
                                                                
                                                                <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                                <p:outputLabel value="La semaforización de registro se basa en la comparación del evento de registro activo, si el periodo es cambiado la semaforización es omitida" style="padding-top: 5px;" />
                                                                <p></p>
                                                            </f:facet>
                                                        </p:toolbar>
                                                        <center>
                                                            <p:dataTable id="dtPlanesAccionTutorial" 
                                                                         widgetVar="dtPlanesAccionTutorial"
                                                                         var="dtoPlanAccionTutorial" 
                                                                         value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoPlanAccionTutorial}"
                                                                         filteredValue="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoPlanAccionTutorialFiltro}"
                                                                         tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                         resizeMode="expand"
                                                                         emptyMessage="Aún no se han registrado planes de acción tutorial en el periodo y programa educativo seleccionado"
                                                                         >
                                                                <p:columnGroup type="header">
                                                                    <p:row class="sucess">
                                                                        <p:column   rowspan="2"     headerText="Plan de Acción Tutorial"                            width="70"/>
                                                                        <p:column   rowspan="2"     headerText="Grupo"                                              width="50"/>
                                                                        <p:column   rowspan="2"     headerText="Sistema"                                            width="60"/>
                                                                        <p:column   rowspan="2"     headerText="Tutor"                                              width="100"     style="text-align:  center"     filterBy="#{dtoPlanAccionTutorial.tutor.personal.nombre}"     filterMatchMode="contains"/>
                                                                        <p:column   colspan="2"     headerText="Tutorías"                                           width="150"/>
                                                                        <p:column   colspan="2"     headerText="Asesorías"                                          width="150"/>
                                                                        <p:column   colspan="2"     headerText="Asesorías Generales"                                width="150"/>
                                                                    </p:row>
                                                                    
                                                                    <p:row class="sucess">
                                                                        <p:column headerText="Grupales"/>
                                                                        <p:column headerText="Individuales"/>
                                                                        <p:column headerText="Grupales"/>
                                                                        <p:column headerText="Individuales"/>
                                                                        <p:column headerText="Grupales"/>
                                                                        <p:column headerText="Individuales"/>
                                                                    </p:row>
                                                                    
                                                                </p:columnGroup>
                                                                
                                                                <p:column style="width:16px;align-content: center;text-align: center">
                                                                    <p:rowToggler expandLabel="Mostrar información" collapseLabel="Ocultar Información"/>
                                                                </p:column>
                                                                
                                                                <p:column style="align-content: center;text-align: center">
                                                                    <h:outputText value="#{dtoPlanAccionTutorial.planAccionTutorial.grupo.grado}° #{dtoPlanAccionTutorial.planAccionTutorial.grupo.literal}" />
                                                                </p:column>

                                                                <p:column style="align-content: center;text-align: center">
                                                                    <h:outputText value="#{dtoPlanAccionTutorial.planAccionTutorial.grupo.idSistema.nombre}" />
                                                                </p:column>

                                                                <p:column>
                                                                    <h:outputText value="#{dtoPlanAccionTutorial.tutor.personal.clave} - #{dtoPlanAccionTutorial.tutor.personal.nombre}" />
                                                                </p:column>
                                                                
                                                                <!--Tutorías Grupales-->
                                                                
                                                                <c:set var="verificarTutoriasGrupales" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarTutoriasGrupales(dtoPlanAccionTutorial)}" />
                                                                <p:column style="align-content: center;text-align: center">
                                                                                <p:commandButton id="btnConsultarTutorias"
                                                                                                 actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoTutoriasGrupales(dtoPlanAccionTutorial)}"
                                                                                                 class="btn btn-sm #{verificarTutoriasGrupales?'btn-info':'btn-danger'}"
                                                                                                 icon="fa fa-search"
                                                                                                 value="Consultar"
                                                                                                 title="Dar clic aquí para consultar tutorias grupales"
                                                                                                 process="@this"
                                                                                                 global="false"
                                                                                                 />      
                                                                </p:column>
                                                                
                                                                <!--Tutorías Individuales-->
                                                                
                                                                <c:set var="verificarTutoriasIndividuales" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarTutoriasIndividuales(dtoPlanAccionTutorial)}" />
                                                                <p:column style="align-content: center;text-align: center">
                                                                    <p:commandButton id="btnConsultarTutoriasIndividuales"
                                                                                     actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoTutoriasIndividuales(dtoPlanAccionTutorial)}"
                                                                                                 class="btn btn-sm #{verificarTutoriasIndividuales?'btn-info':'btn-danger'}"
                                                                                                 icon="fa fa-search"
                                                                                                 value="Consultar"
                                                                                                 title="Dar clic aquí para consultar tutorias individuales"
                                                                                                 process="@this"
                                                                                                 global="false"
                                                                                                 />      
                                                                </p:column>
                                                                
                                                                <!--Asesorías Grupales-->
                                                                
                                                                <c:set var="verificarAsesoriasGrupales" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarRegistroDeAsesoriasGrupales(dtoPlanAccionTutorial)}" />
                                                                <p:column style="align-content: center;text-align: center">
                                                                    <p:commandButton id="btnConsultarAsesoriasGrupales"
                                                                                                 actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasGrupales(dtoPlanAccionTutorial)}"
                                                                                                 class="btn btn-sm #{verificarAsesoriasGrupales?'btn-info':'btn-danger'}" 
                                                                                                 icon="fa fa-search"
                                                                                                 value="Consultar"
                                                                                                 title="Dar clic aquí para consultar asesorías grupales"
                                                                                                 process="@this"
                                                                                                 global="false"
                                                                                                 />      
                                                                </p:column>
                                                                
                                                                <!--Asesorías Individuales-->
                                                                
                                                                <c:set var="verificarAsesoriasIndividuales" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarRegistroDeAsesoriasIndividuales(dtoPlanAccionTutorial)}" />
                                                                <p:column style="align-content: center;text-align: center">
                                                                    <p:commandButton id="btnConsultarAsesoriasIndividuales"
                                                                                                 actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasIndividuales(dtoPlanAccionTutorial)}"
                                                                                                 class="btn btn-sm #{verificarAsesoriasIndividuales?'btn-info':'btn-danger'}" 
                                                                                                 icon="fa fa-search"
                                                                                                 value="Consultar"
                                                                                                 title="Dar clic aquí para consultar asesorías individuales"
                                                                                                 process="@this"
                                                                                                 global="false"
                                                                                                 />      
                                                                </p:column>
                                                                
                                                                <!--Asesorías Generales Grupales-->
                                                                
                                                                <c:set var="verificarAsesoriasGeneralesGrupales" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarRegistroDeAsesoriasGeneralesGrupales(dtoPlanAccionTutorial)}" />
                                                                <p:column style="align-content: center;text-align: center">
                                                                    <p:commandButton id="btnConsultarAsesoriasGeneralesGrupales"
                                                                                                 actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasGeneralesGrupales(dtoPlanAccionTutorial)}"
                                                                                                 class="btn btn-sm #{verificarAsesoriasGeneralesGrupales?'btn-info':'btn-danger'}" 
                                                                                                 icon="fa fa-search"
                                                                                                 value="Consultar"
                                                                                                 title="Dar clic aquí para consultar asesorías generales grupales"
                                                                                                 process="@this"
                                                                                                 global="false"
                                                                                                 />
                                                                </p:column>
                                                                
                                                                <!--Asesorías Generales Individuales-->
                                                                
                                                                <c:set var="verificarAsesoriasGeneralesIndividuales" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarRegistroDeAsesoriasIndividualesGenerales(dtoPlanAccionTutorial)}" />
                                                                <p:column style="align-content: center;text-align: center">
                                                                    <p:commandButton id="btnConsultarAsesoriasGeneralesIndividuales"
                                                                                                 actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasIndividualesGeneralesGrupales(dtoPlanAccionTutorial)}"
                                                                                                 class="btn btn-sm #{verificarAsesoriasGeneralesIndividuales?'btn-info':'btn-danger'}" 
                                                                                                 icon="fa fa-search"
                                                                                                 value="Consultar"
                                                                                                 title="Dar clic aquí para consultar asesorías generales grupales"
                                                                                                 process="@this"
                                                                                                 global="false"
                                                                                                 />
                                                                </p:column>
                                                                
                                                                <p:rowExpansion>
                                                                    <p:panelGrid style="width: 100%">

                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Comentarios del director: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <p:inputTextarea rows="1" 
                                                                                                 cols="76"
                                                                                                 maxlength="3000" 
                                                                                                 autoResize="true"
                                                                                                 class="form-control"
                                                                                                 value="#{dtoPlanAccionTutorial.planAccionTutorial.comentariosDirector}"
                                                                                                 valueChangeListener="#{validacionPlanAccionTutorialDirector.actualizarComentariosObservacionesDirector}"
                                                                                                 readonly="true"
                                                                                                 >
                                                                                    <p:ajax process="@this" 
                                                                                            update="dtPlanesAccionTutorial" 
                                                                                            global="false"
                                                                                            /> 
                                                                                    <f:attribute name="pat" 
                                                                                                 value="#{dtoPlanAccionTutorial}" 
                                                                                                 />
                                                                                </p:inputTextarea>
                                                                            </p:column>
                                                                        </p:row>

                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Metas de la función como tutor:" style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <p:commandButton id="btnConsultarFunciones"
                                                                                                 actionListener="#{validacionPlanAccionTutorialPsicopedagogia.consultarFunciones(dtoPlanAccionTutorial)}"
                                                                                                 class="btn btn-sm btn-info" 
                                                                                                 icon="fa fa-search"
                                                                                                 value="Consulta de Metas de la Función como tutor"
                                                                                                 title="Consultar Metas de la Función como tutor en el plan de acción tutorial"
                                                                                                 process="@this"
                                                                                                 global="false"
                                                                                                 />
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Sesiones grupales de tutoría:" style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <p:commandButton id="btnConsultarSesiones"
                                                                                                 actionListener="#{validacionPlanAccionTutorialPsicopedagogia.consultarSesiones(dtoPlanAccionTutorial)}"
                                                                                                 class="btn btn-sm btn-info" 
                                                                                                 icon="fa fa-search"
                                                                                                 value="Consulta de Sesiones Grupales de Tutoría"
                                                                                                 title="Consultar las sesiones grupales en el plan de acción tutorial"
                                                                                                 process="@this"
                                                                                                 global="false"
                                                                                                 />
                                                                            </p:column>
                                                                        </p:row>

                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Estatus: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{dtoPlanAccionTutorial.planAccionTutorial.estatus}" />
                                                                            </p:column>
                                                                        </p:row>

                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Objetivo:" style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{dtoPlanAccionTutorial.planAccionTutorial.objetivo}" />
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Comentarios:" style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{dtoPlanAccionTutorial.planAccionTutorial.comentarios}" />
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Sugerencias:" style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{dtoPlanAccionTutorial.planAccionTutorial.sugerencias}" />
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                    </p:panelGrid>
                                                                </p:rowExpansion>
                                                                
                                                                <f:facet name="footer">
                                                                    <div style="text-align: left">
                                                                        <p:column style="text-align: left;">
                                                                            Existen un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoPlanAccionTutorial)} tutores(as) asignados(as) en el periodo y programa educativo seleccionados.
                                                                        </p:column>
                                                                    </div>
                                                                </f:facet>
                                                            </p:dataTable>
                                                        </center>
                                                    </div>
                                                </p:outputPanel>
                                            </div>
                                            </div>
                                        </div>
                                    </h:form>

                                    <!--Modal de funciones del tutor-->
                                    <p:dialog id="modalFuncionesPlanAccionTutorial" 
                                              widgetVar="modalFuncionesPlanAccionTutorial" 
                                              width="900" 
                                              height="500"  
                                              closeOnEscape="true" 
                                              visible="#{false}"
                                              showEffect="fade" 
                                              hideEffect="fade" 
                                              modal="true" 
                                              draggable="true" 
                                              header="Funciones del tutor en el plan de acción tutorial" 
                                              onHide="actualizarPlanesAccionTutorial();"
                                              styleClass="panel panel-primary" 
                                              responsive="true" 
                                              resizable="false" 
                                              maximizable="false">
                                        <div class="col-md-12" style="margin-top: 10px"></div>

                                        <h:form id="frmFunciones" >
                                            <p:remoteCommand name="actualizar2" update="frmFunciones" />
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <p:toolbar>
                                                        <f:facet name="left">
                                                            <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                            <p:outputLabel value="Metas de las Función del tutor registradas" style="padding-top: 5px;" />
                                                            <p></p>
                                                        </f:facet>
                                                    </p:toolbar>
                                                    <center>
                                                        <p:dataTable id="dtFuncionesTutor" 
                                                                     var="funcionTutor" 
                                                                     value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaFuncionesTutor}"
                                                                     tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                     resizeMode="expand"
                                                                     emptyMessage="Aún no se han registrado funciones como tutor"
                                                                     >
                                                            <p:columnGroup type="header">
                                                                <p:row class="sucess">
                                                                    <p:column headerText="No. de Función" width="90"/>
                                                                    <p:column headerText="Meta de función como tutor" />
                                                                </p:row>
                                                            </p:columnGroup>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{funcionTutor.noSesion}" />
                                                            </p:column>

                                                            <p:column>
                                                                <h:outputText value="#{funcionTutor.metaFuncionTutor}" />
                                                            </p:column>
                                                            <f:facet name="footer">
                                                                Se ha registrado un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaFuncionesTutor)} metas de función como tutor.
                                                            </f:facet>
                                                        </p:dataTable>
                                                    </center>
                                                </div>
                                            </div>
                                        </h:form>
                                    </p:dialog>

                                    <!--Modal de sesiones del tutor-->
                                    <p:dialog id="modalSesionesPlanAccionTutorial" 
                                              widgetVar="modalSesionesPlanAccionTutorial" 
                                              width="1000" 
                                              height="500"  
                                              closeOnEscape="true" 
                                              visible="#{false}"
                                              showEffect="fade" 
                                              hideEffect="fade" 
                                              modal="true" 
                                              draggable="true" 
                                              header="Sesiones del tutor en el plan de acción tutorial" 
                                              onHide="actualizarPlanesAccionTutorial();"
                                              styleClass="panel panel-primary" 
                                              responsive="true" 
                                              resizable="false" 
                                              maximizable="true">
                                        <div class="col-md-12" style="margin-top: 10px"></div>

                                        <h:form id="frmSesiones" >
                                            <p:remoteCommand name="actualizar3" update="frmSesiones" />
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <p:toolbar>
                                                        <f:facet name="left">
                                                            <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                            <p:outputLabel value="Sesiones grupales de tutoría registradas" style="padding-top: 5px;" />
                                                            <p></p>
                                                        </f:facet>
                                                    </p:toolbar>
                                                    <center>
                                                        <p:dataTable id="dtSesionesGrupales" 
                                                                     var="sesionGrupal" 
                                                                     value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaSesionesGrupalesTutorias}"
                                                                     tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                     resizeMode="expand"
                                                                     emptyMessage="Aún no se han registrado sesiones grupales de tutoría"
                                                                     >
                                                            <p:columnGroup type="header">
                                                                <p:row class="sucess">
                                                                    <p:column headerText="No. de Sesión" width="50"/>
                                                                    <p:column headerText="Actividad Programada" width="300"/>
                                                                    <p:column headerText="Fecha Programada" width="100"/>
                                                                    <p:column headerText="Objetivos" width="300"/>
                                                                    <p:column headerText="Observaciones ó Recomendaciones/Alguna Situación Emergente" width="300"/>
                                                                    <p:column headerText="Cumplimiento" width="80"/>
                                                                    <p:column headerText="Justificación" width="300"/>
                                                                </p:row>
                                                            </p:columnGroup>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{sesionGrupal.noSesion}" />
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{sesionGrupal.actividadProgramada}" />
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{sesionGrupal.fechaProgramada}">
                                                                    <f:convertDateTime type="date" parent="yyyy-MM-dd"/>
                                                                </h:outputText>
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{sesionGrupal.objetivos}" />
                                                            </p:column>
                                                            
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{sesionGrupal.observacionesRecomendaciones}" />
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{sesionGrupal.cumplimiento?'Si':'No'}"/>
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{sesionGrupal.justificacion}" />
                                                            </p:column>

                                                            <f:facet name="footer">
                                                                Se ha registrado un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaSesionesGrupalesTutorias)} sesiones grupales de tutoría.
                                                            </f:facet>
                                                        </p:dataTable>
                                                    </center>
                                                </div>
                                            </div>
                                        </h:form>
                                    </p:dialog>

                                    <!-- Modal de Tutorías grupales -->
                                    <p:dialog id="modalTutoriasGrupales" 
                                              widgetVar="modalTutoriasGrupales" 
                                              width="900" 
                                              height="500"  
                                              closeOnEscape="true" 
                                              visible="#{false}"
                                              showEffect="fade" 
                                              hideEffect="fade" 
                                              modal="true" 
                                              draggable="true" 
                                              header="Consulta de tutorías grupales registradas por el tutor" 
                                              onHide="actualizarPlanesAccionTutorial();"
                                              styleClass="panel panel-primary" 
                                              responsive="true" 
                                              resizable="false" 
                                              maximizable="true">
                                        <div class="col-md-12" style="margin-top: 10px"></div>

                                        <h:form id="frmTutoriasGrupales" >
                                            <p:remoteCommand name="actualizar4" update="frmTutoriasGrupales" />
                                            <div class="row">
                                                <div class="col-md-12">
                                                                <div class="ui-material">
                                                                    <p:selectOneMenu id="mes" value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado}" converter="entityConverter" styleClass="form-control">
                                                                        <f:selectItems value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" itemValue="#{evento}" itemLabel="#{evento.mes}" />
                                                                        <p:ajax process="@this" update="@this dtTutoriasGrupales" listener="#{validacionPlanAccionTutorialPsicopedagogia.cambiarEventoRegistro}" />
                                                                    </p:selectOneMenu>
                                                                    <p:outputLabel value="Seleccione el mes de registro" for="mes"/>
                                                                    <p:message for="mes" />
                                                                </div>
                                                    <p></p>
                                                    <center>
                                                        
                                                        <p:dataTable id="dtTutoriasGrupales" 
                                                                     var="tutoriaGrupal" 
                                                                     value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaTutoriasGrupales}"
                                                                     tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                     resizeMode="expand"
                                                                     emptyMessage="Aún no se han registrado tutorías grupales en el mes selecionado"
                                                                     >
                                                            <p:columnGroup type="header">
                                                                <p:row class="sucess">
                                                                    <p:column rowspan="2" headerText="Contenido de la tutoría"  width="70"/>
                                                                    <p:column rowspan="2" headerText="Identificador" width="90"/>
                                                                    <p:column rowspan="2" headerText="Fecha" width="80"/>
                                                                    <p:column rowspan="2" headerText="Hora Inicio" width="80"/>
                                                                    <p:column rowspan="2" headerText="Hora Cierre" width="80"/>
                                                                    <p:column rowspan="2" headerText="Porcentaje firma de asistencía" width="100"/>
                                                                    <p:column colspan="2" headerText="Participantes" width="100"/>
                                                                </p:row>
                                                                <p:row class="sucess">
                                                                    <p:column headerText="Mujeres" width="50"/>
                                                                    <p:column headerText="Hombres" width="50"/>
                                                                </p:row>
                                                            </p:columnGroup>
                                                            
                                                            <p:column style="align-content: center;text-align: center">
                                                                <p:rowToggler expandLabel="Mostrar contenido" collapseLabel="Ocultar contenido"/>
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{tutoriaGrupal.tutoriaGrupal}" />
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{tutoriaGrupal.fecha}">
                                                                    <f:convertDateTime type="date" pattern="yyyy-MM-dd"/>
                                                                </h:outputText>
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{caster.parseHoraMinutos(tutoriaGrupal.horaInicio)}" />
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{caster.parseHoraMinutos(tutoriaGrupal.horaCierre)}"/>
                                                            </p:column>

                                                            <p:column style="text-align: center;">
                                                                <f:facet name="header">
                                                                    <c:set var="porcentaje" value="#{validacionPlanAccionTutorialPsicopedagogia.comprobarPorcentaje(tutoriaGrupal.sesionGrupal)}"/>
                                                                    <h:outputText value="% de firmas"/>
                                                                </f:facet>

                                                                <h:outputText value="#{porcentaje} %" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Mujeres-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesTutoriaGrupalMujeres(tutoriaGrupal)}" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Hombres-->
                                                             <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesTutoriaGrupalHombres(tutoriaGrupal)}" />
                                                            </p:column>

                                                            <p:rowExpansion>
                                                                <p:panelGrid style="width: 100%">
                                                                    
                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Orden del día:" style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{tutoriaGrupal.ordenDia}"/>
                                                                        </p:column>
                                                                    </p:row>

                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Acuerdos:" style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{tutoriaGrupal.acuerdos}"/>
                                                                        </p:column>
                                                                    </p:row>

                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Observaciones:" style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{tutoriaGrupal.observaciones}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                </p:panelGrid>
                                                            </p:rowExpansion>

                                                            <f:facet name="footer">
                                                                Se ha registrado un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaTutoriasGrupales)} tutoría(s) grupal(es).
                                                            </f:facet>
                                                        </p:dataTable>
                                                        
                                                    </center>
                                                </div>
                                            </div>
                                        </h:form>
                                    </p:dialog>
                                    
                                    
                                    
                                    <!-- Modal de Tutorías Individuales -->
                                    <p:dialog id="modalTutoriasIndividuales" 
                                              widgetVar="modalTutoriasIndividuales" 
                                              width="900" 
                                              height="500"  
                                              closeOnEscape="true" 
                                              visible="#{false}"
                                              showEffect="fade" 
                                              hideEffect="fade" 
                                              modal="true" 
                                              draggable="true" 
                                              header="Consulta de tutorías individuales registradas por el tutor" 
                                              onHide="actualizarPlanesAccionTutorial();"
                                              styleClass="panel panel-primary" 
                                              responsive="true" 
                                              resizable="false" 
                                              maximizable="true">
                                        <div class="col-md-12" style="margin-top: 10px"></div>

                                        <h:form id="frmTutoriasIndividuales" >
                                            <p:remoteCommand name="actualizar5" update="frmTutoriasIndividuales" />
                                            <div class="row">
                                                <div class="col-md-12">
                                                                <div class="ui-material">
                                                                    <p:selectOneMenu id="mesTutoriaIndividual" value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado}" converter="entityConverter" styleClass="form-control">
                                                                        <f:selectItems value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" itemValue="#{evento}" itemLabel="#{evento.mes}" />
                                                                        <p:ajax process="@this" update="@this dtTutoriasIndividuales" listener="#{validacionPlanAccionTutorialPsicopedagogia.cambiarEventoRegistroTutoriasIndividuales()}" />
                                                                    </p:selectOneMenu>
                                                                    <p:outputLabel value="Seleccione el mes de registro" for="mesTutoriaIndividual"/>
                                                                    <p:message for="mesTutoriaIndividual" />
                                                                </div>
                                                    <p></p>
                                                    <center>
                                                        
                                                        <p:dataTable id="dtTutoriasIndividuales" 
                                                                     var="ti" 
                                                                     value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoTutoriasIndividuales}"
                                                                     tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                     resizeMode="expand"
                                                                     emptyMessage="Aún no se han registrado tutorías individuales en el mes selecionado"
                                                                     >
                                                            <p:columnGroup type="header">
                                                                <p:row class="sucess">
                                                                    <p:column headerText="Contenido de la tutoría" width="80"/>
                                                                    <p:column headerText="Identificador" width="90"/>
                                                                    <p:column headerText="Fecha" width="100"/>
                                                                    <p:column headerText="Hora Inicio" width="100"/>
                                                                    <p:column headerText="Tiempo Invertido" width="100"/>
                                                                    <p:column headerText="Matricula" width="80"/>
                                                                    <p:column headerText="Estudiante" width="200"/>
                                                                    <p:column headerText="Caso Crítico" width="100"/>
                                                                </p:row>
                                                            </p:columnGroup>
                                                            
                                                            <p:column style="align-content: center;text-align: center">
                                                                <p:rowToggler expandLabel="Mostrar contenido" collapseLabel="Ocultar contenido"/>
                                                            </p:column>

                                                            <!--Identificador-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{ti.tutoriaIndividual.tutoriaIndividual}" />
                                                            </p:column>

                                                            <!--Fecha de la tutoría-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{ti.tutoriaIndividual.fecha}">
                                                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd"/>
                                                                    </h:outputText>
                                                            </p:column>
                                                            
                                                            <!--Hora de inicio-->
                                                            <p:column>
                                                                    <h:outputText value="#{caster.parseHoraMinutos(ti.tutoriaIndividual.horaInicio)}" />    
                                                            </p:column>
                                                            
                                                            <!--Tiempo invertido-->
                                                            <p:column>
                                                                <h:outputText value="#{ti.tutoriaIndividual.tiempoInvertido} #{ti.tutoriaIndividual.tipoTiempo}" />
                                                            </p:column>
                                                            
                                                            <!--Matricula-->
                                                            <p:column>
                                                                <h:outputText value="#{ti.estudiante.inscripcionActiva.inscripcion.matricula}" />
                                                            </p:column>
                                                            
                                                            <!--Estudiante-->
                                                            <p:column>
                                                                <h:outputText value="#{ti.estudiante.persona.apellidoMaterno} #{ti.estudiante.persona.apellidoPaterno} #{ti.estudiante.persona.nombre}" />
                                                            </p:column>
                                                            
                                                            <!--Detalle caso critico-->
                                                            <p:column>
                                                                <h:outputText value="#{ti.casoCritico eq null?'No aplica':'Atentido por caso crítico'}" />
                                                            </p:column>
                                                            
                                                            <p:rowExpansion>
                                                                <p:panelGrid style="width: 100%">

                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Motivo:" style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{ti.tutoriaIndividual.motivo}"/>
                                                                        </p:column>
                                                                    </p:row>

                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Acciones ú observaciones" style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{ti.tutoriaIndividual.accionesObservaciones}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                    
                                                                        <p:row>
                                                                            <p:column colspan="5">
                                                                                <ul class="todo-list">
                                                                                    <li><span class="text" style="text-align: justify;"><i class="fa fa-ellipsis-v"></i><i class="fa fa-ellipsis-v"></i> Detalle del seguimiento de caso crítico </span></li>
                                                                                </ul>
                                                                            </p:column>
                                                                        </p:row>

                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Indentificador: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{ti.casoCritico.casoCritico.caso}"/>
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Estado: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{ti.casoCritico.casoCritico.estado}"/>
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Tipo: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{ti.casoCritico.casoCritico.tipo}"/>
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Descripción: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{ti.casoCritico.casoCritico.descripcion}"/>
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Fecha de registro: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{caster.convertirFormatoFecha(ti.casoCritico.casoCritico.fechaRegistro)}"/>
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                       
                                                                            <p:row>
                                                                                <p:column colspan="5" style="font-weight: 600;">
                                                                                    <h:outputText value="Datos Académicos" style="font-weight: 600;"/>
                                                                                </p:column>
                                                                            </p:row>

                                                                            <p:row>
                                                                                <p:column>
                                                                                    <h:outputText value="Unidad: " style="font-weight: 600;"/>
                                                                                </p:column>
                                                                                <p:column colspan="4" style="font-weight: 600;">
                                                                                    <h:outputText value="#{ti.casoCritico.casoCritico.configuracion.idUnidadMateria.noUnidad}"/>
                                                                                </p:column>
                                                                            </p:row>
                                                                            
                                                                            <p:row>
                                                                                <p:column>
                                                                                    <h:outputText value="Nombre Unidad: " style="font-weight: 600;"/>
                                                                                </p:column>
                                                                                <p:column colspan="4" style="font-weight: 600;">
                                                                                    <h:outputText value="#{ti.casoCritico.casoCritico.configuracion.idUnidadMateria.nombre}"/>
                                                                                </p:column>
                                                                            </p:row>
                                                                            
                                                                            <p:row>
                                                                                <p:column>
                                                                                    <h:outputText value="Materia: " style="font-weight: 600;"/>
                                                                                </p:column>
                                                                                <p:column colspan="4" style="font-weight: 600;">
                                                                                    <h:outputText value="#{ti.casoCritico.casoCritico.configuracion.idUnidadMateria.idMateria.nombre}"/>
                                                                                </p:column>
                                                                            </p:row>

                                                                            <p:row>
                                                                                <p:column>
                                                                                    <h:outputText value="Docente: " style="font-weight: 600;"/>
                                                                                </p:column>
                                                                                <p:column colspan="4" style="font-weight: 600;">
                                                                                    <h:outputText value="#{ti.casoCritico.casoCritico.configuracion.carga.docente eq null ? '':caster.personalActivoLabel(ti.casoCritico.casoCritico.configuracion.carga.docente)}"/>
                                                                                </p:column>
                                                                            </p:row>


                                                                        
                                                                        <p:row>
                                                                            <p:column colspan="5" style="font-weight: 600;">
                                                                                <h:outputText value="Seguimiento tutor y especialista" style="font-weight: 600;"/>
                                                                            </p:column>
                                                                        </p:row>

                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Comentarios del tutor: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{ti.casoCritico.casoCritico.comentariosTutor eq null ? 'No se han registrado comentarios':'El estudiante está siendo atendido por el tutor'}"/>
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Especialista: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{ti.casoCritico.casoCritico.especialista eq null ? 'Aún no ha sido canalizado con ningun especialista':caster.personalActivoLabel(ti.casoCritico.casoCritico.especialista)}"/>
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Comentarios del especialista: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{ti.casoCritico.casoCritico.comentariosEspecialista eq null ? 'No se han registrado comentarios':'El estudiante está siendo atendido por el especialista'}"/>
                                                                            </p:column>
                                                                        </p:row>
                                                                        
                                                                        <p:row>
                                                                            <p:column>
                                                                                <h:outputText value="Fecha de cierre del caso crítico: " style="font-weight: 600;"/>
                                                                            </p:column>
                                                                            <p:column colspan="4" style="font-weight: 600;">
                                                                                <h:outputText value="#{ti.casoCritico.casoCritico.fechaCierre eq null ? 'Aún no se ha cerrado el caso crítico' : caster.convertirFormatoFecha(ti.casoCritico.casoCritico.fechaCierre)}"/>
                                                                            </p:column>
                                                                        </p:row>

                                                                    
                                                                    
                                                                </p:panelGrid>
                                                            </p:rowExpansion>

                                                            <f:facet name="footer">
                                                                Se ha registrado un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoTutoriasIndividuales)} tutoría(s) individual(es).
                                                            </f:facet>
                                                        </p:dataTable>
                                                        
                                                    </center>
                                                </div>
                                            </div>
                                        </h:form>
                                    </p:dialog>
                                    
                                    
                                    <!-- Modal de Asesorías -->
                                    <p:dialog id="modalAsesorias" 
                                              widgetVar="modalAsesorias" 
                                              width="900" 
                                              height="500"  
                                              closeOnEscape="true" 
                                              visible="#{false}"
                                              showEffect="fade" 
                                              hideEffect="fade" 
                                              modal="true" 
                                              draggable="true" 
                                              header="Consulta de asesorías registradas por el tutor" 
                                              onHide="actualizarPlanesAccionTutorial();"
                                              styleClass="panel panel-primary" 
                                              responsive="true" 
                                              resizable="false" 
                                              maximizable="true">
                                        <div class="col-md-12" style="margin-top: 10px"></div>

                                        <h:form id="frmAsesorias" >
                                            <p:remoteCommand name="actualizar6" update="frmAsesorias" />
                                            <div class="row">
                                                <div class="col-md-12">
                                                                <div class="ui-material">
                                                                    <p:selectOneMenu id="mesAsesorias" value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado}" converter="entityConverter" styleClass="form-control">
                                                                        <f:selectItems value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" itemValue="#{evento}" itemLabel="#{evento.mes}" />
                                                                        <p:ajax process="@this" update="@this dtAsesorias" listener="#{validacionPlanAccionTutorialPsicopedagogia.cambiarEventoRegistroAsesorias()}" />
                                                                    </p:selectOneMenu>
                                                                    <p:outputLabel value="Seleccione el mes de registro" for="mesAsesorias"/>
                                                                    <p:message for="mesAsesorias" />
                                                                </div>
                                                    <p></p>
                                                    <center>
                                                        
                                                        <p:dataTable id="dtAsesorias" 
                                                                     var="asesoria" 
                                                                     value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaAsesorias}"
                                                                     tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                     resizeMode="expand"
                                                                     emptyMessage="Aún no se han registrado asesorías en el mes selecionado"
                                                                     >
                                                            <p:columnGroup type="header">
                                                                <p:row class="sucess">
                                                                    <p:column rowspan="2"   headerText="Contenido de la asesoría" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Identificador" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Fecha" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Hora" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Tiempo Invertido" width="100"/>
                                                                    <p:column rowspan="2"   headerText="Tipo" width="80"/>
                                                                    
                                                                    <p:column rowspan="2"   headerText="Grado y Grupo" width="70"/>
                                                                    <p:column rowspan="2"   headerText="Programa Educativo" width="70"/>
                                                                    
                                                                    <p:column colspan="2"   headerText="Participantes" width="100"/>
                                                                </p:row>
                                                                <p:row class="sucess">
                                                                    <p:column headerText="Mujeres" width="50"/>
                                                                    <p:column headerText="Hombres" width="50"/>
                                                                </p:row>
                                                            </p:columnGroup>
                                                            
                                                            <p:column style="align-content: center;text-align: center">
                                                                <p:rowToggler expandLabel="Mostrar contenido" collapseLabel="Ocultar contenido"/>
                                                            </p:column>

                                                            <!--Identificador-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.idAsesoria}" />
                                                            </p:column>

                                                            <!--Fecha de la asesoría-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.fechaHora}">
                                                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd"/>
                                                                    </h:outputText>
                                                            </p:column>
                                                            
                                                            <!--Hora de la asesoría-->
                                                            <p:column style="text-align: center;">
                                                                    <h:outputText value="#{caster.parseHoraMinutos(asesoria.fechaHora)}" />    
                                                            </p:column>
                                                            
                                                            <!--Tiempo invertido-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.tiempoInvertido} #{asesoria.tipoTiempo}" />
                                                            </p:column>
                                                            
                                                            <!--Tipo-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.tipo}" />
                                                            </p:column>
                                                            
                                                            <!--Grado y grupo-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.configuracion.carga.cveGrupo.grado}°#{asesoria.configuracion.carga.cveGrupo.literal} " />
                                                            </p:column>
                                                            
                                                            <!--Programa Educativo-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{caster.getNombreCarrera(asesoria.configuracion.carga.cveGrupo.idPe).siglas}" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Mujeres-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesAsesoriaMujeres(asesoria)}" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Hombres-->
                                                             <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesAsesoriaHombres(asesoria)}" />
                                                            </p:column>
                                                            
                                                            <p:rowExpansion>
                                                                <p:panelGrid style="width: 100%">

                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Observaciones ó compromisos: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.observacionesCompromisos}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Unidad: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.configuracion.idUnidadMateria.noUnidad}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Nombre Unidad: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.configuracion.idUnidadMateria.nombre}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Materia: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.configuracion.idUnidadMateria.idMateria.nombre}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                </p:panelGrid>
                                                            </p:rowExpansion>

                                                            <f:facet name="footer">
                                                                Se ha registrado un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaAsesorias)} asesoría(s).
                                                            </f:facet>
                                                        </p:dataTable>
                                                        
                                                    </center>
                                                </div>
                                            </div>
                                        </h:form>
                                    </p:dialog>
                                    
                                    <!-- Modal de Asesorías Generales-->
                                    <p:dialog id="modalAsesoriasGenerales" 
                                              widgetVar="modalAsesoriasGenerales" 
                                              width="900" 
                                              height="500"  
                                              closeOnEscape="true" 
                                              visible="#{false}"
                                              showEffect="fade" 
                                              hideEffect="fade" 
                                              modal="true" 
                                              draggable="true" 
                                              header="Consulta de asesorías generales registradas por el tutor" 
                                              onHide="actualizarPlanesAccionTutorial();"
                                              styleClass="panel panel-primary" 
                                              responsive="true" 
                                              resizable="false" 
                                              maximizable="true">
                                        <div class="col-md-12" style="margin-top: 10px"></div>

                                        <h:form id="frmAsesoriasGenerales" >
                                            <p:remoteCommand name="actualizar7" update="frmAsesoriasGenerales" />
                                            <div class="row">
                                                <div class="col-md-12">
                                                                <div class="ui-material">
                                                                    <p:selectOneMenu id="mesAsesoriasGenerales" value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventoSeleccionado}" converter="entityConverter" styleClass="form-control">
                                                                        <f:selectItems value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" itemValue="#{evento}" itemLabel="#{evento.mes}" />
                                                                        <p:ajax process="@this" update="@this dtAsesoriasGenerales" listener="#{validacionPlanAccionTutorialPsicopedagogia.cambiarEventoRegistroAsesoriasGenerales()}" />
                                                                    </p:selectOneMenu>
                                                                    <p:outputLabel value="Seleccione el mes de registro" for="mesAsesoriasGenerales"/>
                                                                    <p:message for="mesAsesoriasGenerales" />
                                                                </div>
                                                    <p></p>
                                                    <center>
                                                        
                                                        <p:dataTable id="dtAsesoriasGenerales" 
                                                                     var="asesoria" 
                                                                     value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaAsesoriasGenerales}"
                                                                     tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                     resizeMode="expand"
                                                                     emptyMessage="Aún no se han registrado asesorías en el mes selecionado"
                                                                     >
                                                            <p:ajax event="rowToggle" listener="#{validacionPlanAccionTutorialPsicopedagogia.onRowToggle}"/>
                                                            <f:attribute name="asesoriaEstudiante" 
                                                                         value="#{asesoria}" 
                                                                         />
                                                            <p:columnGroup type="header">
                                                                <p:row class="sucess">
                                                                    <p:column rowspan="2"   headerText="Contenido de la asesoría" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Identificador" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Fecha" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Hora" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Tiempo Invertido" width="100"/>
                                                                    <p:column rowspan="2"   headerText="Tipo" width="80"/>
                                                                    <p:column colspan="2"   headerText="Participantes" width="100"/>
                                                                </p:row>
                                                                <p:row class="sucess">
                                                                    <p:column headerText="Mujeres" width="50"/>
                                                                    <p:column headerText="Hombres" width="50"/>
                                                                </p:row>
                                                            </p:columnGroup>
                                                            
                                                            <p:column exportable="false" width="5%" style="align-content: center;text-align: center">
                                                                <p:rowToggler expandLabel="Mostrar contenido" collapseLabel="Ocultar contenido"/>
                                                            </p:column>

                                                            <!--Identificador-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.asesoriaEstudiante}" />
                                                            </p:column>

                                                            <!--Fecha de la asesoría-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.fechaHora}">
                                                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd"/>
                                                                    </h:outputText>
                                                            </p:column>
                                                            
                                                            <!--Hora de la asesoría-->
                                                            <p:column style="text-align: center;">
                                                                    <h:outputText value="#{caster.parseHoraMinutos(asesoria.fechaHora)}" />    
                                                            </p:column>
                                                            
                                                            <!--Tiempo invertido-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.tiempoInvertido} #{asesoria.tipoTiempo}" />
                                                            </p:column>
                                                            
                                                            <!--Tipo-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.tipo}" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Mujeres-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesAsesoriaGeneralMujeres(asesoria)}" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Hombres-->
                                                             <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesAsesoriaGeneralHombres(asesoria)}" />
                                                            </p:column>
                                                            
                                                            <p:rowExpansion>
                                                                <p:panelGrid style="width: 100%">

                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Observaciones ó compromisos: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.observacionesCompromisos}"/>
                                                                        </p:column>
                                                                    </p:row>

                                                                    <p:row>
                                                                        <p:column colspan="5">
                                                                            <h:outputText value="Programas Educativos Atendidos: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                    </p:row>

                                                                    <c:if test="#{!empty validacionPlanAccionTutorialPsicopedagogia.rol.listaSecundariaProgramasEducativos}">
                                                                        <p:row>
                                                                            <p:column colspan="5" style="font-weight: 600;">
                                                                                <div class="box-body">
                                                                                    <ul class="todo-list">
                                                                                        <c:forEach items="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaSecundariaProgramasEducativos}" var="instruccion">
                                                                                            <li><span class="text" style="text-align: justify;font-size: 0.92em;"><i class="fa fa-ellipsis-v"></i><i class="fa fa-ellipsis-v"></i> #{instruccion}</span></li>
                                                                                        </c:forEach>
                                                                                    </ul>
                                                                                </div>
                                                                            </p:column>
                                                                        </p:row>
                                                                    </c:if>

                                                                </p:panelGrid>
                                                            </p:rowExpansion>

                                                            <f:facet name="footer">
                                                                Se ha registrado un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaAsesoriasGenerales)} asesoría(s) general(es).
                                                            </f:facet>
                                                        </p:dataTable>
                                                        
                                                    </center>
                                                </div>
                                            </div>
                                        </h:form>
                                    </p:dialog>
                                    
                                    
                                    <!-- Sección de código para asesorías por grupo -->
                                    <p:separator/>
                                    <h:form id="frmConsultaAsesoriasPorGrupo" prependId="false" class="form-inline">
                                        <p:remoteCommand id="actualizarConsultaAsesoriasPorGrupo" name="actualizarConsultaAsesoriasPorGrupo" actionListener="#{validacionPlanAccionTutorialPsicopedagogia.actualizar}" process="@this" update="contenedorAsesoriasPorGrupo" />
                                        <div class="row">
                                            <c:set var="validact" value="#{validacionPlanAccionTutorialPsicopedagogia.rol.validaCT}" />
                                            <div class="box box-primary" style="display: #{validact?'none;':''}}">
                                                <div class="col-lg-12 col-md-12 text-info">
                                                    <p:outputPanel id="contenedorAsesoriasPorGrupo">
                                                        <div class="row margin-bottom" style="margin-bottom: 10px;">
                                                            <p:toolbar>
                                                                <f:facet name="left">
                                                                    <h4 style="padding-top: 5px;font-weight: 600;"><p:spacer width="20" height="20"/>3.- Consulta de Asesorías y Asesorías Generales del programa educativo: #{validacionPlanAccionTutorialPsicopedagogia.rol.programaEducativo.nombre}</h4>
                                                                    
                                                                    <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                                    <p:outputLabel value="Asesorías y Asesorías Generales Registradas por grupo" style="padding-bottom: 10px;" />
                                                                    <p></p>
                                                                    <p></p>
                                                                    
                                                                </f:facet>
                                                            </p:toolbar>

                                                            <center>
                                                                <!--Tabla de contenido de las asesorías a consultar-->
                                                                <p:dataTable id="dtAsesoriasGrupo" 
                                                                             widgetVar="dtAsesoriasGrupo"
                                                                             var="grupo" 
                                                                             value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoPlanAccionTutorial}"
                                                                             tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                             resizeMode="expand"
                                                                             emptyMessage="Aún no hay grupos en el periodo y programa educativo seleccionados"
                                                                             >
                                                                    <p:columnGroup type="header">
                                                                        <p:row class="sucess">
                                                                            <p:column   rowspan="4"     headerText="Grupo"                               width="50"/>
                                                                            <p:column   rowspan="4"     headerText="Sistema"                             width="60"/>                                              

                                                                            <c:if test="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo) == 1}">
                                                                                <p:column   colspan="2"     headerText="Asesorías"                      width="200"/>
                                                                                <p:column   colspan="2"     headerText="Asesorías Generales"            width="250"/>
                                                                            </c:if>

                                                                            <c:if test="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo) == 2}">
                                                                                <p:column   colspan="4"     headerText="Asesorías"                      width="200"/>
                                                                                <p:column   colspan="4"     headerText="Asesorías Generales"            width="250"/>
                                                                            </c:if>

                                                                            <c:if test="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo) == 3}">
                                                                                <p:column   colspan="6"     headerText="Asesorías"                      width="200"/>
                                                                                <p:column   colspan="6"     headerText="Asesorías Generales"            width="250"/>
                                                                            </c:if>

                                                                            <c:if test="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo) == 4}">
                                                                                <p:column   colspan="8"     headerText="Asesorías"                      width="200"/>
                                                                                <p:column   colspan="8"     headerText="Asesorías Generales"            width="250"/>
                                                                            </c:if>
                                                                        </p:row>

                                                                        <p:row class="sucess">
                                                                            <p:column   colspan="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo)}" headerText="Grupales"                                          width="200"/>
                                                                            <p:column   colspan="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo)}" headerText="Individuales"                                      width="250"/>
                                                                            <p:column   colspan="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo)}" headerText="Grupales"                                          width="200"/>
                                                                            <p:column   colspan="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo)}" headerText="Individuales"                                      width="250"/>
                                                                        </p:row>


                                                                        <p:row>
                                                                            <ui:repeat value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento">
                                                                                <p:column headerText="#{evento.mes}"/>
                                                                            </ui:repeat>

                                                                            <ui:repeat value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento">
                                                                                <p:column headerText="#{evento.mes}"/>
                                                                            </ui:repeat>

                                                                            <ui:repeat value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento">
                                                                                <p:column headerText="#{evento.mes}"/>
                                                                            </ui:repeat>

                                                                            <ui:repeat value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento">
                                                                                <p:column headerText="#{evento.mes}"/>
                                                                            </ui:repeat>
                                                                        </p:row>

                                                                    </p:columnGroup>

                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{grupo.planAccionTutorial.grupo.grado}° #{grupo.planAccionTutorial.grupo.literal}" />
                                                                    </p:column>

                                                                    <p:column style="align-content: center;text-align: center">
                                                                        <h:outputText value="#{grupo.planAccionTutorial.grupo.idSistema.nombre}" />
                                                                    </p:column>
                                                                    
                                                                    <c:set var="ag" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarRegistroDeAsesoriasGrupalesPorGrupoEventoRegistro(grupo,evento)}" />
                                                                    <p:columns value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" style="align-content: center;text-align: center">
                                                                        <p:commandButton id="btnConsultarAsesoriasDocenteSinPat"
                                                                                         actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasGrupalesPorEvento(grupo,evento)}"
                                                                                         class="btn btn-xs #{ag?'btn-info':'btn-danger'}"
                                                                                         icon="fa fa-search"
                                                                                         title="Dar clic aquí para consultar asesorias grupales #{evento.eventoRegistro}"
                                                                                         process="@this"
                                                                                         global="false"
                                                                                         disabled="#{!ag}"
                                                                                         />      
                                                                    </p:columns>
                                                                    
                                                                    <c:set var="ai" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarRegistroDeAsesoriasIndividualesPorGrupoEventoRegistro(grupo,evento)}" />
                                                                    <p:columns value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" style="align-content: center;text-align: center">
                                                                        <p:commandButton id="btnConsultarAsesoriasDocenteSinPat"
                                                                                         actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasIndividualesPorGrupoEventoRegistro(grupo,evento)}"
                                                                                         class="btn btn-xs #{ai?'btn-info':'btn-danger'}"
                                                                                         icon="fa fa-search"
                                                                                         title="Dar clic aquí para consultar asesorias individuales #{evento.eventoRegistro}"
                                                                                         process="@this"
                                                                                         global="false"
                                                                                         disabled="#{!ai}"
                                                                                         />      
                                                                    </p:columns>
                                                                    
                                                                    <c:set var="agg" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarRegistroDeAsesoriasGrupalesGeneralesPorGrupoEventoRegistro(grupo,evento)}" />
                                                                    <p:columns value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" style="align-content: center;text-align: center">
                                                                        <p:commandButton id="btnConsultarAsesoriasGeneralesDocenteSinPat"
                                                                                         actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasGrupalesGeneralesPorGrupoEventoRegistro(grupo,evento)}"
                                                                                         class="btn btn-xs #{agg?'btn-info':'btn-danger'}"
                                                                                         icon="fa fa-search"
                                                                                         title="Dar clic aquí para consultar asesorias generales grupales #{evento.eventoRegistro}"
                                                                                         process="@this"
                                                                                         global="false"
                                                                                         disabled="#{!agg}"
                                                                                         />      
                                                                    </p:columns>
                                                                    
                                                                    <c:set var="agi" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarRegistroDeAsesoriasIndividualesGeneralesPorGrupoEventoRegistro(grupo,evento)}" />
                                                                    <p:columns value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" style="align-content: center;text-align: center">
                                                                        <p:commandButton id="btnConsultarAsesoriasGeneralesDocenteSinPat"
                                                                                         actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasIndividualesGeneralesPorGrupoEventoRegistro(grupo,evento)}"
                                                                                         class="btn btn-xs #{agi?'btn-info':'btn-danger'}"
                                                                                         icon="fa fa-search"
                                                                                         title="Dar clic aquí para consultar asesorias generales individuales #{evento.eventoRegistro}"
                                                                                         process="@this"
                                                                                         global="false"
                                                                                         disabled="#{!agi}"
                                                                                         />      
                                                                    </p:columns>

                                                                    <f:facet name="footer">
                                                                        <div style="text-align: left">
                                                                            <p:column style="text-align: left;">
                                                                                Existen un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaDtoPlanAccionTutorial)} grupo(s) activo(s).
                                                                            </p:column>
                                                                        </div>
                                                                    </f:facet>
                                                                </p:dataTable>
                                                            </center>
                                                        </div>
                                                    </p:outputPanel>
                                                </div>
                                            </div>
                                        </div>
                                    </h:form>

                                    <p:separator/>

                                    <!--Asesorias y Asesorías generales de docentes sin grupo tutorado-->
                                    
                                    <h:form id="frmConsultaAsesoriasDocentes" prependId="false" class="form-inline">
                                        <p:remoteCommand id="actualizarConsultaAsesoriasDocentes" name="actualizarConsultaAsesoriasDocentes" actionListener="#{validacionPlanAccionTutorialPsicopedagogia.actualizar}" process="@this" update="contenedorAsesorias modalAsesoriasDocenteSinPat modalAsesoriasGeneralesDocenteSinPat" />
                                        <div class="row">
                                            <c:set var="validact" value="#{validacionPlanAccionTutorialPsicopedagogia.rol.validaCT}" />
                                            <div class="box box-primary" style="display: #{validact?'none;':''}}">
                                                <div class="col-lg-12 col-md-12 text-info">
                                                    <p:outputPanel id="contenedorAsesorias">
                                                        <div class="row margin-bottom" style="margin-bottom: 10px;">
                                                            <p:toolbar>
                                                                <f:facet name="left">
                                                                    <h4 style="padding-top: 5px;font-weight: 600;"><p:spacer width="20" height="20"/>4.- Consulta de Asesorías y Asesorías Generales registrados por docentes con ó sin grupo tutorado</h4>
                                                                    
                                                                    <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                                    <p:outputLabel value="La consulta contempla solo el filtro del periodo seleccionado, puede consultar registros de docentes de diferentes programas educativos" style="padding-bottom: 10px;" />
                                                                    <p></p>
                                                                    <p></p>
                                                                    
                                                                    <span class="ui-separator"><span class="ui-icon ui-icon-grip-dotted-vertical" /></span>
                                                                    <p:outputLabel value="Ingrese clave ó nombre del docente: " style="padding-bottom: 10px;" />
                                                                    <br></br>
                                                                    <br></br>
                                                                    
                                                                    <div class="ui-material">
                                                                        <p:autoComplete id="autcomDocenteAsesorias" 
                                                                                        value="#{validacionPlanAccionTutorialPsicopedagogia.rol.docente}" 
                                                                                        valueChangeListener="#{validacionPlanAccionTutorialPsicopedagogia.seleccionarDocenteAsesorias}"
                                                                                        completeMethod="#{validacionPlanAccionTutorialPsicopedagogia.completeDocentes}" 
                                                                                        queryDelay="800"
                                                                                        var="docente"
                                                                                        itemValue="#{docente}" 
                                                                                        itemLabel="#{docente.personal.nombre}"
                                                                                        converter="entityConverter" 
                                                                                        forceSelection="true"
                                                                                        size="35"
                                                                                        styleClass="campoAutocompleteDocente"
                                                                                        scrollHeight="300"
                                                                                        title="Ingrese clave ó nombre del docente"
                                                                                        >
                                                                            <p:column>#{docente.personal.clave}</p:column>
                                                                            <p:column>#{docente.personal.nombre}</p:column>
                                                                            <p:column>#{docente.areaOperativa.nombre}</p:column>
                                                                            <p:ajax event="itemSelect" 
                                                                                    process="@this" 
                                                                                    update="frmConsultaAsesoriasDocentes"
                                                                                    />
                                                                        </p:autoComplete>
                                                                        <p:outputLabel value="Ingrese clave ó nombre del docente:" for="autcomDocenteAsesorias" />
                                                                    </div>
                                                                    <p:watermark for="autcomDocenteAsesorias" value="341 ó García Romero Norma" />
                                                                    <p:message for="autcomDocenteAsesorias" />
                                                                    <p></p>
                                                                </f:facet>
                                                            </p:toolbar>

                                                            <center>
                                                                <!--Tabla de contenido de las asesorías a consultar-->
                                                                <p:dataTable id="dtAsesoriasDocentes" 
                                                                             widgetVar="dtAsesoriasDocentes"
                                                                             var="docente" 
                                                                             value="#{validacionPlanAccionTutorialPsicopedagogia.rol.docentes}"
                                                                             tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                             resizeMode="expand"
                                                                             emptyMessage="Aún no se ha seleccionado un docente"
                                                                             >
                                                                    <p:columnGroup type="header">
                                                                        <p:row class="sucess">
                                                                            <p:column   rowspan="4"     headerText="Docente"  width="100" style="text-align:  center"/>

                                                                            <c:if test="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo) == 1}">
                                                                                <p:column   colspan="2"     headerText="Asesorías"                      width="200"/>
                                                                                <p:column   colspan="2"     headerText="Asesorías Generales"            width="250"/>
                                                                            </c:if>

                                                                            <c:if test="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo) == 2}">
                                                                                <p:column   colspan="4"     headerText="Asesorías"                      width="200"/>
                                                                                <p:column   colspan="4"     headerText="Asesorías Generales"            width="250"/>
                                                                            </c:if>

                                                                            <c:if test="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo) == 3}">
                                                                                <p:column   colspan="6"     headerText="Asesorías"                      width="200"/>
                                                                                <p:column   colspan="6"     headerText="Asesorías Generales"            width="250"/>
                                                                            </c:if>

                                                                            <c:if test="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo) == 4}">
                                                                                <p:column   colspan="8"     headerText="Asesorías"                      width="200"/>
                                                                                <p:column   colspan="8"     headerText="Asesorías Generales"            width="250"/>
                                                                            </c:if>
                                                                        </p:row>

                                                                        <p:row class="sucess">
                                                                            <p:column   colspan="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo)}" headerText="Grupales"                                          width="200"/>
                                                                            <p:column   colspan="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo)}" headerText="Individuales"                                      width="250"/>
                                                                            <p:column   colspan="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo)}" headerText="Grupales"                                          width="200"/>
                                                                            <p:column   colspan="#{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo)}" headerText="Individuales"                                      width="250"/>
                                                                        </p:row>


                                                                        <p:row>
                                                                            <ui:repeat value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento">
                                                                                <p:column headerText="#{evento.mes}"/>
                                                                            </ui:repeat>

                                                                            <ui:repeat value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento">
                                                                                <p:column headerText="#{evento.mes}"/>
                                                                            </ui:repeat>

                                                                            <ui:repeat value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento">
                                                                                <p:column headerText="#{evento.mes}"/>
                                                                            </ui:repeat>

                                                                            <ui:repeat value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento">
                                                                                <p:column headerText="#{evento.mes}"/>
                                                                            </ui:repeat>
                                                                        </p:row>

                                                                    </p:columnGroup>

                                                                    <p:column>
                                                                        <h:outputText value="#{docente.personal.clave} - #{docente.personal.nombre}" />
                                                                    </p:column>
                                                                    
                                                                    <c:set var="agdsp" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarAsesoriasGrupalesDocenteSinPatEventoRegistro(evento)}" />
                                                                    <p:columns value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" style="align-content: center;text-align: center">
                                                                        <p:commandButton id="btnConsultarAsesoriasDocenteSinPat"
                                                                                         actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasGrupalesDocenteSinPat(evento)}"
                                                                                         class="btn btn-xs #{agdsp?'btn-info':'btn-danger'}"
                                                                                         icon="fa fa-search"
                                                                                         title="Dar clic aquí para consultar asesorias grupales"
                                                                                         process="@this"
                                                                                         global="false"
                                                                                         disabled="#{!agdsp}"
                                                                                         />      
                                                                    </p:columns>
                                                                    
                                                                    <c:set var="aidsp" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarAsesoriasIndividualesDocenteSinPatEventoRegistro(evento)}" />
                                                                    <p:columns value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" style="align-content: center;text-align: center">
                                                                        <p:commandButton id="btnConsultarAsesoriasDocenteSinPat"
                                                                                         actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasIndividualesDocenteSinPat(evento)}"
                                                                                         class="btn btn-xs #{aidsp?'btn-info':'btn-danger'}"
                                                                                         icon="fa fa-search"
                                                                                         title="Dar clic aquí para consultar asesorias individuales"
                                                                                         process="@this"
                                                                                         global="false"
                                                                                         disabled="#{!aidsp}"
                                                                                         />      
                                                                    </p:columns>
                                                                    
                                                                    <c:set var="aggdsp" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarAsesoriasGrupalesGeneralesDocenteSinPatEventoRegistro(evento)}" />
                                                                    <p:columns value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" style="align-content: center;text-align: center">
                                                                        <p:commandButton id="btnConsultarAsesoriasGeneralesDocenteSinPat"
                                                                                         actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasGrupalesGeneralesDocenteSinPat(evento)}"
                                                                                         class="btn btn-xs #{aggdsp?'btn-info':'btn-danger'}"
                                                                                         icon="fa fa-search"
                                                                                         title="Dar clic aquí para consultar asesorias generales grupales"
                                                                                         process="@this"
                                                                                         global="false"
                                                                                         disabled="#{!aggdsp}"
                                                                                         />      
                                                                    </p:columns>
                                                                    
                                                                    <c:set var="agidsp" value="#{validacionPlanAccionTutorialPsicopedagogia.verficarAsesoriasIndividualesGeneralesDocenteSinPatEventoRegistro(evento)}" />
                                                                    <p:columns value="#{validacionPlanAccionTutorialPsicopedagogia.rol.eventosPorPeriodo}" var="evento" style="align-content: center;text-align: center">
                                                                        <p:commandButton id="btnConsultarAsesoriasGeneralesDocenteSinPat"
                                                                                         actionListener="#{validacionPlanAccionTutorialPsicopedagogia.abrirCuadroDeDialogoAsesoriasIndividualesGeneralesDocenteSinPat(evento)}"
                                                                                         class="btn btn-xs #{agidsp?'btn-info':'btn-danger'}"
                                                                                         icon="fa fa-search"
                                                                                         title="Dar clic aquí para consultar asesorias generales individuales"
                                                                                         process="@this"
                                                                                         global="false"
                                                                                         disabled="#{!agidsp}"
                                                                                         />      
                                                                    </p:columns>
                                                                </p:dataTable>
                                                            </center>
                                                        </div>
                                                    </p:outputPanel>
                                                </div>
                                            </div>
                                        </div>
                                    </h:form>

                                    <!-- Modal de Asesorías Por Docente Sin Pat -->
                                    <p:dialog id="modalAsesoriasDocenteSinPat" 
                                              widgetVar="modalAsesoriasDocenteSinPat" 
                                              width="900" 
                                              height="500"  
                                              closeOnEscape="true" 
                                              visible="#{false}"
                                              showEffect="fade" 
                                              hideEffect="fade" 
                                              modal="true" 
                                              draggable="true" 
                                              header="Consulta de asesorías registradas por el docente" 
                                              onHide="actualizarConsultaAsesoriasDocentes();"
                                              styleClass="panel panel-primary" 
                                              responsive="true" 
                                              resizable="false" 
                                              maximizable="true">
                                        <div class="col-md-12" style="margin-top: 10px"></div>

                                        <h:form id="frmAsesoriasDocenteSinPat" >
                                            <p:remoteCommand name="actualizarADSP" update="frmAsesoriasDocenteSinPat" />
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <p></p>
                                                    <center>
                                                        
                                                        <p:dataTable id="dtAsesoriasDocenteSinPat" 
                                                                     var="asesoria" 
                                                                     value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaAsesorias}"
                                                                     tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                     resizeMode="expand"
                                                                     emptyMessage="Aún no se han registrado asesorías en el mes selecionado"
                                                                     >
                                                            <p:columnGroup type="header">
                                                                <p:row class="sucess">
                                                                    <p:column rowspan="2"   headerText="Contenido de la asesoría" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Identificador" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Fecha" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Hora" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Tiempo Invertido" width="100"/>
                                                                    <p:column rowspan="2"   headerText="Tipo" width="80"/>
                                                                    
                                                                    <p:column rowspan="2"   headerText="Grado y Grupo" width="70"/>
                                                                    <p:column rowspan="2"   headerText="Programa Educativo" width="70"/>
                                                                    
                                                                    <p:column colspan="2"   headerText="Participantes" width="100"/>
                                                                </p:row>
                                                                <p:row class="sucess">
                                                                    <p:column headerText="Mujeres" width="50"/>
                                                                    <p:column headerText="Hombres" width="50"/>
                                                                </p:row>
                                                            </p:columnGroup>
                                                            
                                                            <p:column style="align-content: center;text-align: center">
                                                                <p:rowToggler expandLabel="Mostrar contenido" collapseLabel="Ocultar contenido"/>
                                                            </p:column>

                                                            <!--Identificador-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.idAsesoria}" />
                                                            </p:column>

                                                            <!--Fecha de la asesoría-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.fechaHora}">
                                                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd"/>
                                                                    </h:outputText>
                                                            </p:column>
                                                            
                                                            <!--Hora de la asesoría-->
                                                            <p:column style="text-align: center;">
                                                                    <h:outputText value="#{caster.parseHoraMinutos(asesoria.fechaHora)}" />    
                                                            </p:column>
                                                            
                                                            <!--Tiempo invertido-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.tiempoInvertido} #{asesoria.tipoTiempo}" />
                                                            </p:column>
                                                            
                                                            <!--Tipo-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.tipo}" />
                                                            </p:column>
                                                            
                                                            <!--Grado y grupo-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.configuracion.carga.cveGrupo.grado}°#{asesoria.configuracion.carga.cveGrupo.literal} " />
                                                            </p:column>
                                                            
                                                            <!--Programa Educativo-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{caster.getNombreCarrera(asesoria.configuracion.carga.cveGrupo.idPe).siglas}" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Mujeres-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesAsesoriaMujeres(asesoria)}" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Hombres-->
                                                             <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesAsesoriaHombres(asesoria)}" />
                                                            </p:column>
                                                            
                                                            <p:rowExpansion>
                                                                <p:panelGrid style="width: 100%">

                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Observaciones ó compromisos: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.observacionesCompromisos}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Unidad: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.configuracion.idUnidadMateria.noUnidad}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Nombre Unidad: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.configuracion.idUnidadMateria.nombre}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Materia: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.configuracion.idUnidadMateria.idMateria.nombre}"/>
                                                                        </p:column>
                                                                    </p:row>
                                                                    
                                                                </p:panelGrid>
                                                            </p:rowExpansion>

                                                            <f:facet name="footer">
                                                                Se ha registrado un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaAsesorias)} asesoría(s).
                                                            </f:facet>
                                                        </p:dataTable>
                                                        
                                                    </center>
                                                </div>
                                            </div>
                                        </h:form>
                                    </p:dialog>
                                    
                                    <!-- Modal de Asesorías Generales-->
                                    <p:dialog id="modalAsesoriasGeneralesDocenteSinPat" 
                                              widgetVar="modalAsesoriasGeneralesDocenteSinPat" 
                                              width="900" 
                                              height="500"  
                                              closeOnEscape="true" 
                                              visible="#{false}"
                                              showEffect="fade" 
                                              hideEffect="fade" 
                                              modal="true" 
                                              draggable="true" 
                                              header="Consulta de asesorías generales registradas por el docente" 
                                              onHide="actualizarConsultaAsesoriasDocentes();"
                                              styleClass="panel panel-primary" 
                                              responsive="true" 
                                              resizable="false" 
                                              maximizable="true">
                                        <div class="col-md-12" style="margin-top: 10px"></div>

                                        <h:form id="frmAsesoriasGeneralesDocenteSinPat" >
                                            <p:remoteCommand name="actualizarAGDSP" update="frmAsesoriasGeneralesDocenteSinPat" />
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <p></p>
                                                    <center>
                                                        
                                                        <p:dataTable id="dtAsesoriasGenerales" 
                                                                     var="asesoria" 
                                                                     value="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaAsesoriasGenerales}"
                                                                     tableStyleClass="table table-condensed table-bordered table-hover table-responsive"
                                                                     resizeMode="expand"
                                                                     emptyMessage="Aún no se han registrado asesorías en el mes selecionado"
                                                                     >
                                                            <p:ajax event="rowToggle" listener="#{validacionPlanAccionTutorialPsicopedagogia.onRowToggle}"/>
                                                            <f:attribute name="asesoriaEstudiante" 
                                                                         value="#{asesoria}" 
                                                                         />
                                                            <p:columnGroup type="header">
                                                                <p:row class="sucess">
                                                                    <p:column rowspan="2"   headerText="Contenido de la asesoría" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Identificador" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Fecha" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Hora" width="80"/>
                                                                    <p:column rowspan="2"   headerText="Tiempo Invertido" width="100"/>
                                                                    <p:column rowspan="2"   headerText="Tipo" width="80"/>
                                                                    <p:column colspan="2"   headerText="Participantes" width="100"/>
                                                                </p:row>
                                                                <p:row class="sucess">
                                                                    <p:column headerText="Mujeres" width="50"/>
                                                                    <p:column headerText="Hombres" width="50"/>
                                                                </p:row>
                                                            </p:columnGroup>
                                                            
                                                            <p:column exportable="false" width="5%" style="align-content: center;text-align: center">
                                                                <p:rowToggler expandLabel="Mostrar contenido" collapseLabel="Ocultar contenido"/>
                                                            </p:column>

                                                            <!--Identificador-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.asesoriaEstudiante}" />
                                                            </p:column>

                                                            <!--Fecha de la asesoría-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.fechaHora}">
                                                                        <f:convertDateTime type="date" pattern="yyyy-MM-dd"/>
                                                                    </h:outputText>
                                                            </p:column>
                                                            
                                                            <!--Hora de la asesoría-->
                                                            <p:column style="text-align: center;">
                                                                    <h:outputText value="#{caster.parseHoraMinutos(asesoria.fechaHora)}" />    
                                                            </p:column>
                                                            
                                                            <!--Tiempo invertido-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.tiempoInvertido} #{asesoria.tipoTiempo}" />
                                                            </p:column>
                                                            
                                                            <!--Tipo-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{asesoria.tipo}" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Mujeres-->
                                                            <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesAsesoriaGeneralMujeres(asesoria)}" />
                                                            </p:column>
                                                            
                                                            <!--Asistencia Hombres-->
                                                             <p:column style="text-align: center;">
                                                                <h:outputText value="#{validacionPlanAccionTutorialPsicopedagogia.contarAsistentesAsesoriaGeneralHombres(asesoria)}" />
                                                            </p:column>
                                                            
                                                            <p:rowExpansion>
                                                                <p:panelGrid style="width: 100%">

                                                                    <p:row>
                                                                        <p:column>
                                                                            <h:outputText value="Observaciones ó compromisos: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                        <p:column colspan="4" style="font-weight: 600;">
                                                                            <h:outputText value="#{asesoria.observacionesCompromisos}"/>
                                                                        </p:column>
                                                                    </p:row>

                                                                    <p:row>
                                                                        <p:column colspan="5">
                                                                            <h:outputText value="Programas Educativos Atendidos: " style="font-weight: 600;"/>
                                                                        </p:column>
                                                                    </p:row>

                                                                    <c:if test="#{!empty validacionPlanAccionTutorialPsicopedagogia.rol.listaSecundariaProgramasEducativos}">
                                                                        <p:row>
                                                                            <p:column colspan="5" style="font-weight: 600;">
                                                                                <div class="box-body">
                                                                                    <ul class="todo-list">
                                                                                        <c:forEach items="#{validacionPlanAccionTutorialPsicopedagogia.rol.listaSecundariaProgramasEducativos}" var="instruccion">
                                                                                            <li><span class="text" style="text-align: justify;font-size: 0.92em;"><i class="fa fa-ellipsis-v"></i><i class="fa fa-ellipsis-v"></i> #{instruccion}</span></li>
                                                                                        </c:forEach>
                                                                                    </ul>
                                                                                </div>
                                                                            </p:column>
                                                                        </p:row>
                                                                    </c:if>

                                                                </p:panelGrid>
                                                            </p:rowExpansion>

                                                            <f:facet name="footer">
                                                                Se ha registrado un total de: #{fn:length(validacionPlanAccionTutorialPsicopedagogia.rol.listaAsesoriasGenerales)} asesoría(s) general(es).
                                                            </f:facet>
                                                        </p:dataTable>
                                                        
                                                    </center>
                                                </div>
                                            </div>
                                        </h:form>
                                    </p:dialog>
                                    
                                  
                                </div>
                            </div>
                        </div>
                    </div>
                    <c:if test="#{!empty validacionPlanAccionTutorialPsicopedagogia.alertas || true}">
                        <div class="box box-info">
                            <div class="box-header">
                                <ui:include src="/includes/alertas.xhtml">
                                    <ui:param name="alertas" value="#{validacionPlanAccionTutorialPsicopedagogia.alertas}"></ui:param>
                                </ui:include>
                            </div>
                        </div>
                    </c:if>
                    <!-- Zona de cuadros de diálogo -->
                    <p:dialog id="modalAyuda"
                              widgetVar="modalAyuda" width="700" height="auto" closeOnEscape="true" visible="#{false}" showEffect="fade" hideEffect="fade"
                              modal="true" draggable="true" header="Ayuda" styleClass="panel panel-primary" responsive="true" resizable="false" closable="false" maximizable="true">
                        <div class="box box-primary">
                            <div class="box-header"><i class="ion ion-clipboard"></i><h3 class="box-title">Elementos necesarios para la validación del plan de acción tutorial</h3></div>
                            <div class="box-body">
                                <ul class="todo-list">
                                    <c:forEach items="#{validacionPlanAccionTutorialPsicopedagogia.rol.instrucciones}" var="instruccion">
                                        <li><span class="text" style="text-align: justify;"><i class="fa fa-ellipsis-v"></i><i class="fa fa-ellipsis-v"></i> #{instruccion}</span></li>
                                    </c:forEach>
                                </ul>
                            </div>
                            <div class="box-footer clearfix no-border"><button type="button" class="btn btn-primary pull-right" onclick="PF('modalAyuda').hide();"><i class="fa fa-times"></i> Cerrar</button></div>
                        </div>
                    </p:dialog>

                </c:if>
                <c:if test="#{!validacionPlanAccionTutorialPsicopedagogia.tieneAcceso}">
                    <p:panel id="box-colors-panel" header="Acceso no autorizado" styleClass="box-fatal box-solid">
                        <h:panelGrid columns="2" cellpadding="10">
                            <h:outputText value="El acceso solo está autorizado a docentes con cargas académicas."/>
                        </h:panelGrid>
                        <f:facet name="footer"></f:facet>
                    </p:panel>
                </c:if>
                <div style="display: none;">
                    <!-- Es necesario este bloque para que se cargue en el navegador el soporte para el control inputnumber -->
                    <h:form>
                        <p:inputNumber />
                    </h:form>
                </div>
            </div>
            <script>
                //collapseSidebar(); activar para colapsar barra lateral
            </script>
        </c:if>
    </ui:define>
</ui:composition>

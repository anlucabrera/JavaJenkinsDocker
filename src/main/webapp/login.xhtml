<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:adm="http://github.com/adminfaces"
      xmlns:p="http://primefaces.org/ui">

    <f:view contentType="text/html">
        <h:head>
            <title>SII</title>
            <meta charset="utf-8"/>
            <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
            <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
            <link rel="shortcut icon" type="image/x-icon" href="#{resource['favicon/favicon.ico']}"/>
            <link rel="manifest" href="/manifest.json"/>
            <meta name="theme-color" content="#444"/>
            <meta name="mobile-web-app-capable" content="yes"/>
            <!--h:outputStylesheet library="css" name="procesoElectoral.css" /-->
        </h:head>

        <h:body styleClass="hold-transition login-page">

            <div class="login-box">
                <div class="login-logo">
                    <p:link href="index.xhtml"><b>UTXJ</b>SII</p:link>
                </div>
                <div class="box login-box-body">
                    <h:form>                        
                        <p class="login-box-msg">Ingrese sus datos de acceso</p>
                        <p:messages closable="true" showDetail="true"/>

                        <div class="form-group has-feedback">
                            <p:inputText id="login" value="#{logonMB.email}" type="text" styleClass="form-control" placeholder="Usuario"
                                         required="true"
                                         requiredMessage="El usuario es requerido."/>
                            <p:message for="login" display="tooltip" />
                            <i class="fa fa-user form-control-feedback" style="margin-top:10px"></i>
                        </div>
                        <div class="form-group has-feedback">
                            <p:inputText id="password" value="#{logonMB.password}" type="password" styleClass="form-control" 
                                         placeholder="Contraseña" required="true" maxlength="10"
                                         requiredMessage="La contraseña es requerida."/>
                            <p:message for="password" display="tooltip"  />
                            <i class="fa fa-lock form-control-feedback" style="margin-top: 10px"></i>
                        </div>
                        <div class="row">
                            <p:spacer height="10"/>
                            <div class="col-xs-12">
                                <p:commandButton styleClass="btn btn-primary btn-block" actionListener="#{logonMB.login}" process="login password" ajax="false"
                                                 value="Entrar" update="@form"/>
                            </div>
                        </div>
                        <div class="row">
                            <h3>Nota</h3> ¿Necesitas ayuda?, descarga el manual para limpieza de cookies. <p:link href="https://drive.google.com/open?id=1RYPlLoCqdtGaaeRI4SAK5AqYnVn1fHzU" target="_Blank" style="color: #3a3030;font-size: larger"> Descargar aquí </p:link>
							<br/>
                            <br/>
                            Para ingresar como <strong>Aspirante</strong> logueate con <strong>Usuario:</strong> aspirante y <strong>Contraseña:</strong> aspirante
						</div>
                    </h:form>
                </div>
            </div>
            <h:form>
                <p:dialog id="dlgDelate4" header="Nota" width="500" modal="true" position="center" visible="false">
                    <p:clock />
                    <h:panelGrid columns="1"  class="col-md-12">
                        <p:outputLabel style="font-weight: bold; font-size: x-large; text-align: justify"  
                                       value="En apego a las acciones preventivas implementadas para la administración pública estatal, con motivo del proceso electoral 2017 - 2018, este contenido será modificado temporalmente en apego a las disposiciones legales y normativas en materia electoral."/>
                    </h:panelGrid>
                </p:dialog>
            </h:form>
<script>
                var cookie = '#{cookie["JSESSIONID"].value}';
                var session = '#{session.id}';
                var coincide = cookie === session;
                if(!coincide){
                    $.removeCookie('JSESSIONID', { path: '/' });
                    location.reload();
                }
            </script>
        </h:body>
    </f:view>
</html>

<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:adm="http://github.com/adminfaces"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:pe="http://primefaces.org/ui/extensions"
                template="#{layoutMB.template}">

    <ui:define name="head-end">
        <c:if test="#{utilidadesAcceso.procesoElectoralActivo}">
            <link rel="stylesheet" type="text/css" href="../../resources/css/procesoElectoral.css" media="screen" />
        </c:if>


    </ui:define>

    <ui:define name="title">
        Evaluación
    </ui:define>

    <ui:define name="description">
        PARA DETERMINAR EL CONOCIMIENTO DE LOS CÓDIGOS DE ÉTICA, DE CONDUCTA Y EL FUNCIONAMIENTO DEL COMITÉ DE ÉTICA Y DE PREVENCIÓN DE CONFLICTOS DE INTERÉS
    </ui:define>

    <ui:define name="body">
        <c:if test="#{evaluacionCodigoEticaConducta.cargado}">
        <div class="contenedor">
            <c:if test="#{evaluacionCodigoEticaConducta.tieneAcceso}">
                <h:form id="frm" prependId="false" class="form-inline">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <div id="main-buttons" class="hidden-sm hidden-xs" >
                                <p:focus for="ayuda"/>

                                <p:outputPanel id="ayuda">
                                    <p:autoUpdate/>
                                    <p:toolbar id="tb">
                                        <f:facet name="left">
                                            <p:outputLabel value="Periodo de aplicación:  #{caster.clavePeriodoToString(evaluacionCodigoEticaConducta.rol.evaluacionActiva.periodo)}" />
                                            <p:spacer width="10" />
                                            <c:if test="#{evaluacionCodigoEticaConducta.finalizado==true}">
                                                <p:outputLabel value="Total respuestas correctas:  #{evaluacionCodigoEticaConducta.rol.totalCorrectas} de 12" />
                                            </c:if>
                                        </f:facet>
                                        <f:facet name="right">
                                            <c:if test="#{evaluacionCodigoEticaConducta.finalizado==true}">
                                                <h4><i class="fa fa-check" />Finalizada</h4>

                                            </c:if>
                                            <c:if test="#{evaluacionCodigoEticaConducta.finalizado==false}">
                                                <h4><i class="fa fa-close" />Pendiente</h4>
                                            </c:if>

                                        </f:facet>
                                    </p:toolbar>
                                    <p:sticky target="tb" />
                                </p:outputPanel>
                            </div>
                            <div class="box box-solid">
                                <div class="box-body">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <p>
                                                <b>Toda persona servidora pública que labora en la Universidad Tecnológica de Xicotepec de Juárez, responderá el siguiente cuestionario a efecto de reflejar sus conocimientos generales en materia ética.</b>
                                            </p>
                                        </div>
                                    </div>
                                    <c:set var="index" value="#{1}" />
                                    <c:set var="apartado" value="#{evaluacionCodigoEticaConducta.rol.apartados[0]}" />
                                    <c:set var="pregunta" value="#{apartado.preguntas}" />
                                    <div class="col-md-12">
                                        <div class="panel panel-primary" style="margin: auto; font-size: large;">
                                            <div class="panel-heading aceptado">
                                                <h3 class="panel-title" style="text-align: center;">
                                                   Evaluación
                                                </h3>
                                            </div>
                                            <table class="table table-striped table-responsive">
                                                <thead>
                                                <tr class="denegado">
                                                    <th>#</th>
                                                    <th style="text-align: center">Pregunta</th>
                                                    <th style="text-align: center">Opciones</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <c:set var="resultados" value="#{evaluacionCodigoEticaConducta.rol.resultados}"/>
                                                    <!--1 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[0].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[0].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{1}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{1}" value="#{resultados.r1}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.siNo}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>

                                                    </tr>
                                                <!--2 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[1].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[1].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{2}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{2}" value="#{resultados.r2}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.siNo}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--3 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[2].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[2].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{3}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{3}" value="#{resultados.r3}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p3}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--4 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[3].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[3].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{4}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{4}" value="#{resultados.r4}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p4}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--5 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[4].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[4].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{5}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{5}" value="#{resultados.r5}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}"  disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p5}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--6-->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[5].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[5].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{6}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{6}" value="#{resultados.r6}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}"  disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p6}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--7 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[6].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[6].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{7}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{7}" value="#{resultados.r7}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p7}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--8 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[7].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[7].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{8}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{8}" value="#{resultados.r8}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p8}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--9 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[8].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[8].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{9}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{9}" value="#{resultados.r9}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p9}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--10-->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[9].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[9].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{10}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{10}" value="#{resultados.r10}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p10}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--11 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[10].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[10].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{11}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{11}" value="#{resultados.r11}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p11}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                    <!--12 -->
                                                    <tr>
                                                        <td><h:outputLabel value="#{pregunta[11].numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                        <td style="text-align: justify;">#{pregunta[11].titulo}</td>
                                                        <td class="text-center" style="min-width: 120px;">
                                                            <f:ajax id="r#{12}" execute="#{id}">
                                                                <p:selectOneButton  id="r#{12}" value="#{resultados.r12}"
                                                                                    valueChangeListener="#{evaluacionCodigoEticaConducta.guardar}" disabled="#{evaluacionCodigoEticaConducta.finalizado}">
                                                                    <f:selectItems class="btn-primary" value="#{evaluacionCodigoEticaConducta.rol.p12}" />
                                                                    <p:ajax process="@this" update="@form"/></p:selectOneButton>
                                                            </f:ajax>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>
                </h:form>
            </c:if>
            <c:if test="#{!evaluacionCodigoEticaConducta.tieneAcceso}">
                <p:panel id="box-colors-panel" header="Acceso no autorizado" styleClass="box-fatal box-solid">
                    <h:panelGrid columns="2" cellpadding="10">
                        <h:outputText value="El acceso solo está autorizado al personal activo"/>
                    </h:panelGrid>
                    <f:facet name="footer"></f:facet>
                </p:panel>
            </c:if>
        </div>
            </c:if>
    </ui:define>
</ui:composition>
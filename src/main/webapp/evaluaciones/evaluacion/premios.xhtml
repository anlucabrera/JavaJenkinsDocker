<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:adm="http://github.com/adminfaces"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                template="#{layoutMB.template}"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:pe="http://primefaces.org/ui/extensions"
                xmlns:o="http://omnifaces.org/ui">

    <ui:define name="head-end">
        <h:outputStylesheet library="css" name="comisionMapa.css" />
        <h:outputStylesheet library="css" name="tablaDatos.css" />
        <!-- Inicio estilos par proceso electoral -->
        <c:if test="#{utilidadesAcceso.procesoElectoralActivo}">
            <link rel="stylesheet" type="text/css" href="../resources/css/procesoElectoral.css" media="screen" />
        </c:if>
        <!-- Fin estilos par proceso electoral -->
    </ui:define>

    <ui:define name="title">
        Premios al personal 2018
    </ui:define>

    <ui:define name="description">
        <p:outputLabel value="Categoría: #{premios.dto.tipo.label}">
            <p:autoUpdate />
        </p:outputLabel>
    </ui:define>

    <ui:define name="body">
        <c:if test="#{premios.cargado}">
        <adm:breadcrumb title="Comisionar a personal"/>
        <adm:sidebar collapsed="true"/>
        <h:form id="frmAgregarTramite" class="form-horizontal" prependId="true">
            <p:messages showSummary="true" showDetail="true" >
                <p:autoUpdate />
            </p:messages>
            <div class="box box-primary">
                <div class="box-header with-border">
                    <div id="main-buttons" class="hidden-sm hidden-xs" >
                        <p:toolbar id="tb2">
                            <f:facet name="left">
                                Para votar debe dar clic en la casilla que usted desee y la persona elegida se marcará en rojo. Para buscar a alguien presione Control + F
                            </f:facet>
                            <f:facet name="right">
                                <p:outputPanel>
                                    <p:autoUpdate />
                                    <c:if test="#{!empty premios.dto.evaluado}" >
                                        Ya votó
                                    </c:if>
                                </p:outputPanel>
                            </f:facet>
                        </p:toolbar>
                        <p:sticky target="tb2" />
                    </div>
                    <p:separator/>
                    <div class="box box-solid">                        
                        <div class="box-body">
                            <div class="row">
                                <p:repeat value="#{premios.dto.candidatos}" var="candidato" >
                                    <p:remoteCommand name="votar#{candidato.clave}" actionListener="#{premios.votar(candidato)}" update="@form" />
                                    <div class="col-sm-12 col-md-4 col-lg-3" style="margin-bottom: 10px; cursor: pointer;" onclick="votar#{candidato.clave}();">
                                        <div class="widget-user-header #{premios.dto.evaluado eq candidato?'bg-red-active':'bg-aqua-active'}" style="text-align: center;height: 180px; padding-top: 10px;">
                                            <div class="description-header">
                                                <img src="http://siip.utxicotepec.edu.mx/archivos/evidencias2/personal/#{candidato.clave}.jpg" class="img-circle" alt="#{candidato.nombre}" title="Personal #{candidato.nombre}" style="width: 100px; height: 100px;"/>
                                            </div>
                                            <h4 class="description-header">#{candidato.nombre}</h4>
                                            <span class="description-text"><p style="text-align: center">#{candidato.categoriaOperativa.nombre}</p></span>
                                        </div>
                                    </div>
                                </p:repeat>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </h:form>
        </c:if>
    </ui:define>
</ui:composition>

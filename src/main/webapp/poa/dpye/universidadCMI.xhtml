<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:adm="http://github.com/adminfaces"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                template="/WEB-INF/templates/template.xhtml"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:hf="http://highfaces.org"
                xmlns:pe="http://primefaces.org/ui/extensions">

    <ui:define name="head-end">
        <style type="text/css">
            .ui-datatable .ui-datatable-header {
                text-align: right !important;
            }

            .minimizados{
                display: none;
            }            

        </style>
        <script>
            function descargar(ruta) {
                var win = window.open(ruta, '_blank');
                if (win) {
                    win.focus();
                }
            }
        </script>
        <script type="text/javascript">
            function myconfig1() {
                this.yAxis = {
                    type: 'double',
                    min: 0,
                    max: 150,
                    tickAmount: 7,
                    plotBands: [{from: 0.0,  to: 89.99,  color: '#FF0000'},{from: 90.0, to: 94.99,  color: '#ffff00'},{from: 95.0, to: 200.99, color: '#66ff33'}]
                };
            }
            function myconfig2() {
                this.yAxis = {
                    type: 'double',
                    min: 0,
                    max: 250,
                    tickAmount: 7,
                    plotBands: [{from: 0.0,  to: 89.99,  color: '#FF0000'},{from: 90.0, to: 94.99,  color: '#ffff00'},{from: 95.0, to: 300.99, color: '#66ff33'}]
                };
            }
            function myconfig3() {
                this.yAxis = {
                    type: 'double',
                    min: 0,
                    max: 350,
                    tickAmount: 7,
                    plotBands: [{from: 0.0,  to: 89.99,  color: '#FF0000'},{from: 90.0, to: 94.99,  color: '#ffff00'},{from: 95.0, to: 400.99, color: '#66ff33'}]
                };
            }
            function myconfig4() {
                this.yAxis = {
                    type: 'double',
                    min: 0,
                    max: 450,
                    tickAmount: 7,
                    plotBands: [{from: 0.0,  to: 89.99,  color: '#FF0000'},{from: 90.0, to: 94.99,  color: '#ffff00'},{from: 95.0, to: 500.99, color: '#66ff33'}]
                };
            }
            function myconfig5() {
                this.yAxis = {
                    type: 'double',
                    min: 0,
                    max: 550,
                    tickAmount: 7,
                    plotBands: [{from: 0.0,  to: 89.99,  color: '#FF0000'},{from: 90.0, to: 94.99,  color: '#ffff00'},{from: 95.0, to: 600.99, color: '#66ff33'}]
                };
            }
        </script>
        <!-- Inicio estilos par proceso electoral -->
        <c:if test="#{utilidadesAcceso.procesoElectoralActivo}">
            <link rel="stylesheet" type="text/css" href="../../resources/css/procesoElectoral.css" media="screen" />
        </c:if>        
        <link rel="stylesheet" type="text/css" href="../../resources/css/estilosGenerales.css" media="screen" />
        <!-- Fin estilos par proceso electoral -->
    </ui:define>

    <ui:define name="title">
        Programa Anual de Trabajo
    </ui:define>

    <ui:define name="description">
        Cuadro de mando Integral
    </ui:define>

    <ui:define name="body">
        <c:if test="#{cuadroMandoIntegralUniversidad.cargado}">
        <adm:sidebar collapsed="true"/>
        <c:if test="#{controladorEmpleado.tienePOA}">
            <h:form id="frmGraficasCMI" prependId="false" class="form-inline">
                <p:growl><p:autoUpdate/></p:growl>
                <div class="box box-primary">
                    <div id="main-buttons" class="hidden-sm hidden-xs" >                    
                        <div class="row">
                            <div class="col-sm-12 col-md-12 col-lg-12">            
                                <p:panel header="Cuadro de Mando Integral #{controladorEmpleado.nuevoOBJListaPersonal.areaOperativaNombre}">
                                    <p:panelGrid style="margin-top:20px">
                                        <p:row>
                                            <p:column style="font-weight: bold;">Actividades Programadas</p:column>
                                            <p:column style="font-weight: bold;">#{cuadroMandoIntegralUniversidad.cmiGeneral.programadas}</p:column>
                                            <p:column rowspan="4" style="font-weight: bold;">
                                                <!--# {cuadroMandoIntegralUniversidad.datosGraica(cuadroMandoIntegralUniversidad.cmiEJe1.avanceGraf)}-->
                                                <hf:chart type="line" height="400px" extender="#{cuadroMandoIntegralUniversidad.cmiGeneral.extender}" render="true" updateMethod="true"
                                                          xaxisLabel="Mes" yaxisLabel="% avance" colors="black,white">
                                                    <hf:chartSerie name="Avance Sin penalización" value="#{cuadroMandoIntegralUniversidad.cmiGeneral.avanceGrafSP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.avanceOF}"  />
                                                    <hf:chartSerie name="Avance Con penalización" value="#{cuadroMandoIntegralUniversidad.cmiGeneral.avanceGrafCP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.valor}"  />
                                                </hf:chart>
                                            </p:column>
                                            <p:column rowspan="4" style="font-weight: bold;">
                                                <p:chart type="metergauge" model="#{cuadroMandoIntegralUniversidad.cmiGeneral.gaugeChartModel}" responsive="true" />                                            
                                            </p:column>
                                        </p:row>

                                        <p:row>
                                            <p:column style="font-weight: bold;">Actividades Realizadas</p:column>
                                            <p:column style="font-weight: bold;">#{cuadroMandoIntegralUniversidad.cmiGeneral.realizadas}</p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column style="font-weight: bold;">Cumplimiento sin penalización</p:column>
                                            <p:column style="font-weight: bold;">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiGeneral.avanceSP)}%</p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column style="font-weight: bold;">Cumplimiento con penalización </p:column>
                                            <p:column style="font-weight: bold;">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiGeneral.avance)}%</p:column>
                                        </p:row>
                                    </p:panelGrid>
                                    <br/>
                                    <p:panelGrid style="margin-top:20px;">
                                        <p:row>
                                            <p:column style="font-weight: bold;">Grafica Lineal</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe1.renderizar}">
                                                <hf:chart type="line" height="380px" extender="#{cuadroMandoIntegralUniversidad.cmiEJe1.extender}" title="#{cuadroMandoIntegralUniversidad.cmiEJe1.ejesRegistro}"
                                                          xaxisLabel="Mes" yaxisLabel="% avance" colors="black,white">
                                                    <hf:chartSerie name="Avance Sin penalización" value="#{cuadroMandoIntegralUniversidad.cmiEJe1.avanceGrafSP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.avanceOF}"  />
                                                    <hf:chartSerie name="Avance Con penalización" value="#{cuadroMandoIntegralUniversidad.cmiEJe1.avanceGrafCP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.valor}"  />
                                                </hf:chart>
                                            </p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe2.renderizar}">
                                                <hf:chart type="line" height="380px" extender="#{cuadroMandoIntegralUniversidad.cmiEJe2.extender}" title="#{cuadroMandoIntegralUniversidad.cmiEJe2.ejesRegistro}"
                                                          xaxisLabel="Mes" yaxisLabel="% avance" colors="black,white">
                                                    <hf:chartSerie name="Avance Sin penalización" value="#{cuadroMandoIntegralUniversidad.cmiEJe2.avanceGrafSP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.avanceOF}"  />
                                                    <hf:chartSerie name="Avance Con penalización" value="#{cuadroMandoIntegralUniversidad.cmiEJe2.avanceGrafCP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.valor}"  />
                                                </hf:chart>
                                            </p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe3.renderizar}">
                                                <hf:chart type="line" height="380px" extender="#{cuadroMandoIntegralUniversidad.cmiEJe3.extender}" title="#{cuadroMandoIntegralUniversidad.cmiEJe3.ejesRegistro}" 
                                                          xaxisLabel="Mes" yaxisLabel="% avance" colors="black,white">
                                                    <hf:chartSerie name="Avance Sin penalización" value="#{cuadroMandoIntegralUniversidad.cmiEJe3.avanceGrafSP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.avanceOF}"  />
                                                    <hf:chartSerie name="Avance Con penalización" value="#{cuadroMandoIntegralUniversidad.cmiEJe3.avanceGrafCP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.valor}"  />
                                                </hf:chart>
                                            </p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe4.renderizar}">
                                                <hf:chart type="line" height="380px" extender="#{cuadroMandoIntegralUniversidad.cmiEJe4.extender}" title="#{cuadroMandoIntegralUniversidad.cmiEJe4.ejesRegistro}" 
                                                          xaxisLabel="Mes" yaxisLabel="% avance" colors="black,white">
                                                    <hf:chartSerie name="Avance Sin penalización" value="#{cuadroMandoIntegralUniversidad.cmiEJe4.avanceGrafSP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.avanceOF}"  />
                                                    <hf:chartSerie name="Avance Con penalización" value="#{cuadroMandoIntegralUniversidad.cmiEJe4.avanceGrafCP}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}" tickLabel="#{point.mes}" dataLabel="#{point.valor}"  />
                                                </hf:chart>
                                            </p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column style="font-weight: bold;">Grafica 2</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe1.renderizar}"><p:chart type="metergauge" model="#{cuadroMandoIntegralUniversidad.cmiEJe1.gaugeChartModel}" responsive="true" style="width: 380px"/> </p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe2.renderizar}"><p:chart type="metergauge" model="#{cuadroMandoIntegralUniversidad.cmiEJe2.gaugeChartModel}" responsive="true" style="width: 380px"/> </p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe3.renderizar}"><p:chart type="metergauge" model="#{cuadroMandoIntegralUniversidad.cmiEJe3.gaugeChartModel}" responsive="true" style="width: 380px"/> </p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe4.renderizar}"><p:chart type="metergauge" model="#{cuadroMandoIntegralUniversidad.cmiEJe4.gaugeChartModel}" responsive="true" style="width: 380px"/> </p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column style="font-weight: bold;">Actividades Programadas</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe1.renderizar}">#{cuadroMandoIntegralUniversidad.cmiEJe1.programadas eq 0 ?'No aplica al mes':cuadroMandoIntegralUniversidad.cmiEJe1.programadas}</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe2.renderizar}">#{cuadroMandoIntegralUniversidad.cmiEJe2.programadas eq 0 ?'No aplica al mes':cuadroMandoIntegralUniversidad.cmiEJe2.programadas}</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe3.renderizar}">#{cuadroMandoIntegralUniversidad.cmiEJe3.programadas eq 0 ?'No aplica al mes':cuadroMandoIntegralUniversidad.cmiEJe3.programadas}</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe4.renderizar}">#{cuadroMandoIntegralUniversidad.cmiEJe4.programadas eq 0 ?'No aplica al mes':cuadroMandoIntegralUniversidad.cmiEJe4.programadas}</p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column style="font-weight: bold;">Actividades Realizadas</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe1.renderizar}">#{cuadroMandoIntegralUniversidad.cmiEJe1.realizadas}</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe2.renderizar}">#{cuadroMandoIntegralUniversidad.cmiEJe2.realizadas}</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe3.renderizar}">#{cuadroMandoIntegralUniversidad.cmiEJe3.realizadas}</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe4.renderizar}">#{cuadroMandoIntegralUniversidad.cmiEJe4.realizadas}</p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column style="font-weight: bold;">Cumplimiento sin penalización</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe1.renderizar}">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiEJe1.avanceSP)}%</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe2.renderizar}">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiEJe2.avanceSP)}%</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe3.renderizar}">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiEJe3.avanceSP)}%</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe4.renderizar}">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiEJe4.avanceSP)}%</p:column>
                                        </p:row>
                                        <p:row>
                                            <p:column style="font-weight: bold;">Cumplimiento con penalización </p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe1.renderizar}">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiEJe1.avance)}%</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe2.renderizar}">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiEJe2.avance)}%</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe3.renderizar}">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiEJe3.avance)}%</p:column>
                                            <p:column style="font-weight: bold;" rendered="#{cuadroMandoIntegralUniversidad.cmiEJe4.renderizar}">#{cuadroMandoIntegralUniversidad.df.format(cuadroMandoIntegralUniversidad.cmiEJe4.avance)}%</p:column>
                                        </p:row>
                                    </p:panelGrid> 
                                </p:panel>
                            </div>
                        </div>
                    </div>
                </div>
            </h:form>

            <h:form id="frm" prependId="false" class="form-inline">
                <div class="box box-solid">
                    <div class="box-body">
                        <div class="row">
                            <div class="col-lg-12 col-md-12 text-info text-center">
                                <p:remoteCommand name="actualizarTabla2" actionListener="#{cuadroMandoIntegralUniversidad.imprimirValores()}" update=":frm:dtbBajas" />                                
                                <p:dataTable id="dtbBajas" widgetVar="dtbBajas" var="ejesRegistro" sortBy="#{ejesRegistro.ejeA.eje}"
                                             value="#{cuadroMandoIntegralUniversidad.ejesEsLaAp}">

                                    <p:headerRow>
                                        <p:column colspan="1" styleClass="eje" style="text-align: left; color: #FFFFFF;">
                                            <h:outputText value="#{ejesRegistro.ejeA.eje}.#{ejesRegistro.ejeA.nombre}" style="text-align: left"/>
                                        </p:column>
                                    </p:headerRow>
                                    <p:column colspan="1">
                                        <p:dataTable var="proyectos" sortBy="#{proyectos.proyectos.proyecto}" expandableRowGroups="true"
                                                     rowStyleClass="minimizados" value="#{ejesRegistro.proyectosEstrategiases}"> 

                                            <p:columnGroup type="header">
                                                <p:row class="success">
                                                    <p:column headerText="Proyecto" style="background-color: #cccccc; color: #000000;"/>
                                                    <p:column headerText="Programadas:" style="width: 100px;background-color: #cccccc; color: #000000;"/>
                                                    <p:column headerText="Alcanzadas:" style="width: 100px;background-color: #cccccc; color: #000000;"/>
                                                    <p:column headerText="Porcentaje:" style="width: 100px;background-color: #cccccc; color: #000000;"/>
                                                    <p:column headerText="Semaforo al mes de #{cuadroMandoIntegralUniversidad.mes}" style="width: 120px ;background-color: #cccccc; color: #000000;"/>
                                                    <p:column headerText="Grafica" style="width: 60px;background-color: #cccccc; color: #000000;"/>
                                                </p:row>                                               
                                            </p:columnGroup>

                                            <p:headerRow>
                                                <p:column styleClass="eje" style="text-align: left; color: #FFFFFF;  background: #00D8D8">
                                                    <h:outputText value="#{proyectos.proyectos.proyecto}.#{proyectos.proyectos.nombre}" style="text-align: left"/>
                                                </p:column>
                                                <p:column styleClass="eje" style="text-align: center; color: #FFFFFF;  background: #00D8D8">
                                                    <h:outputText value="#{proyectos.programado}" style="text-align: left; font-size: medium"/>
                                                </p:column>
                                                <p:column styleClass="eje" style="width:10% ;text-align: center; color: #FFFFFF;  background: #00D8D8">
                                                    <h:outputText value="#{proyectos.alcanzado}" style="text-align: left; font-size: medium"/>
                                                </p:column>
                                                <p:column  styleClass="eje" style="width:10% ;text-align: center; color: #FFFFFF;  background: #00D8D8">
                                                    <h:outputText value="#{cuadroMandoIntegralUniversidad.df.format(proyectos.porcentaje)}%" style="text-align: left; font-size: medium"/>
                                                </p:column>
                                                <p:column styleClass="eje " style="width:10% ;text-align: center; color: #FFFFFF;  background: #00D8D8">
                                                    <img src="../../resources/img/#{proyectos.semaforo}.png" alt="#{proyectos.semaforo}"/>
                                                </p:column>
                                                <p:column styleClass="eje " style="width:10% ;text-align: center; color: #FFFFFF;  background: #00D8D8">
                                                    <p:commandButton icon="fa fa-comment" styleClass="btn-primary"
                                                                     title="Grafica" actionListener="#{cuadroMandoIntegralUniversidad.graficaProyecto(proyectos.proyectos, ejesRegistro.ejeA)}"
                                                                     oncomplete="PF('dlgComentario').show()" process="@this" update=":frmComentario:pnlAgregarComentario">
                                                    </p:commandButton>
                                                </p:column>
                                            </p:headerRow>
                                            <p:column colspan="5">
                                                <p:dataTable var="estrategiasRegistro"  sortBy="#{estrategiasRegistro.estrategias.estrategia}" 
                                                             expandableRowGroups="true" value="#{proyectos.estrategiaActividadeses}">

                                                    <p:headerRow>

                                                        <p:column colspan="1" styleClass="est" style="text-align: left; color: #FFFFFF;">
                                                            <h:outputText value="#{ejesRegistro.ejeA.eje}.#{estrategiasRegistro.estrategias.numero} -- #{estrategiasRegistro.estrategias.nombre}" style="text-align: left"/>
                                                        </p:column>
                                                    </p:headerRow>
                                                    <p:column colspan="1">
                                                        <p:dataTable value="#{estrategiasRegistro.actividadesPoas}" 
                                                                     var="pOa" sortBy="#{pOa.cuadroMandoInt.lineaAccion.lineaAccion}" 
                                                                     rowStyleClass="#{pOa.numeroS eq 0?'actividad':''}" 
                                                                     expandableRowGroups="true" emptyMessage="No hay actividades registradas">

                                                            <p:headerRow>
                                                                <p:column colspan="#{cuadroMandoIntegralUniversidad.fechaActual.month +9}" styleClass="lac" style="text-align: left">
                                                                    <h:outputText value="#{ejesRegistro.ejeA.eje}.#{estrategiasRegistro.estrategias.numero}.#{pOa.cuadroMandoInt.lineaAccion.numero} --#{pOa.cuadroMandoInt.lineaAccion.nombre}"/>
                                                                </p:column>
                                                            </p:headerRow>  

                                                            <f:facet name="header"></f:facet>

                                                            <p:columnGroup type="header">
                                                                <p:row class="success">
                                                                    <p:column colspan="2" rowspan="2" headerText="No." style="width: 50px; background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rowspan="2" headerText="Actividad" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rowspan="2" headerText="Unidad de medida" style="width:150px; background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rowspan="2" headerText="Área" style="width:150px; background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rowspan="2" headerText="Área" style="width:150px; background-color: #cccccc; color: #000000;"/>
                                                                    <p:column colspan="#{cuadroMandoIntegralUniversidad.fechaActual.month +1}" headerText="Calendarización de Metas" style="width:#{(cuadroMandoIntegralUniversidad.fechaActual.month +1)*80}px; background-color: #cccccc; color: #000000;"/>  
                                                                    <p:column rowspan="2" headerText="Avance al mes de #{cuadroMandoIntegralUniversidad.mes}" style="width: 100px; background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rowspan="2" headerText="Semaforización" style="width:150px; background-color: #cccccc; color: #000000;"/>
                                                                </p:row>
                                                                <p:row class="success">
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 0?true:false}" headerText="Enero" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 1?true:false}" headerText="Febrero" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 2?true:false}" headerText="Marzo" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 3?true:false}" headerText="Abril" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 4?true:false}" headerText="Mayo" style="background-color: #cccccc; color: #000000;"/>                                                    
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 5?true:false}" headerText="Junio" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 6?true:false}" headerText="Julio" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 7?true:false}" headerText="Agosto" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 8?true:false}" headerText="Septiembre" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 9?true:false}" headerText="Octubre" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 10?true:false}" headerText="Noviembre" style="background-color: #cccccc; color: #000000;"/>
                                                                    <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 11?true:false}" headerText="Diciembre" style="background-color: #cccccc; color: #000000;"/>
                                                                </p:row>
                                                            </p:columnGroup>

                                                            <p:column> 
                                                                <h:outputText value="#{pOa.numeroP}" />
                                                            </p:column>
                                                            <p:column> 
                                                                <h:outputText value="#{pOa.numeroS}" />
                                                            </p:column>
                                                            <p:column style="text-align: justify"> 
                                                                <h:outputText value="#{pOa.denominacion}" /> 
                                                            </p:column>
                                                            <p:column style="text-align: justify"> 
                                                                <h:outputText value="#{pOa.unidadMedida.nombre}" />
                                                            </p:column>
                                                            <p:column style="text-align: justify"> 
                                                                <h:outputText value="#{cuadroMandoIntegralUniversidad.areasNombre(pOa.area)}" />
                                                            </p:column>  
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 0?true:false}"> 
                                                                <h:outputText value="Planeadas" />
                                                                <hr/>
                                                                <h:outputText value="Alcanzadas"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 0?true:false}"> 
                                                                <h:outputText value="#{pOa.NPEnero}" />
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NAEnero}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 1?true:false}"> 
                                                                <h:outputText value="#{pOa.NPFebrero}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NAFebrero}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 2?true:false}"> 
                                                                <h:outputText value="#{pOa.NPMarzo}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NAMarzo}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 3?true:false}"> 
                                                                <h:outputText value="#{pOa.NPAbril}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NAAbril}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 4?true:false}"> 
                                                                <h:outputText value="#{pOa.NPMayo}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NAMayo}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 5?true:false}"> 
                                                                <h:outputText value="#{pOa.NPJunio}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NAJunio}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 6?true:false}"> 
                                                                <h:outputText value="#{pOa.NPJulio}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NAJulio}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 7?true:false}"> 
                                                                <h:outputText value="#{pOa.NPAgosto}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NAAgosto}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 8?true:false}"> 
                                                                <h:outputText value="#{pOa.NPSeptiembre}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NASeptiembre}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 9?true:false}"> 
                                                                <h:outputText value="#{pOa.NPOctubre}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NAOctubre}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 10?true:false}"> 
                                                                <h:outputText value="#{pOa.NPNoviembre}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NANoviembre}"/>
                                                            </p:column>
                                                            <p:column rendered="#{cuadroMandoIntegralUniversidad.fechaActual.month ge 11?true:false}"> 
                                                                <h:outputText value="#{pOa.NPDiciembre}" /> 
                                                                <hr/>
                                                                <h:outputText value="#{pOa.NADiciembre}"/>
                                                            </p:column>
                                                            <p:column> 
                                                                <h:outputText value="#{cuadroMandoIntegralUniversidad.totalProgramado(pOa)}"/>
                                                                <hr/>
                                                                <h:outputText value="#{cuadroMandoIntegralUniversidad.totalAlcanzado(pOa)}"/>
                                                            </p:column>   
                                                            <p:column>
                                                                <img src="../../resources/img/#{cuadroMandoIntegralUniversidad.semaforo(cuadroMandoIntegralUniversidad.totalProgramado(pOa), cuadroMandoIntegralUniversidad.totalAlcanzado(pOa))}.png" alt="#{cuadroMandoIntegralUniversidad.semaforo(cuadroMandoIntegralUniversidad.totalProgramado(pOa), cuadroMandoIntegralUniversidad.totalAlcanzado(pOa))}"/>
                                                                <hr/>
                                                                <h:outputText value="#{cuadroMandoIntegralUniversidad.porcentaje(cuadroMandoIntegralUniversidad.totalProgramado(pOa), cuadroMandoIntegralUniversidad.totalAlcanzado(pOa))}%"/>
                                                            </p:column>   
                                                            <p:autoUpdate/>
                                                        </p:dataTable>
                                                    </p:column> 
                                                </p:dataTable>
                                            </p:column>
                                        </p:dataTable>
                                    </p:column>
                                </p:dataTable>
                            </div>
                        </div>
                    </div>
                </div>
            </h:form>   
            <h:form id="frmComentario">
                <p:dialog header="Avances del Cuadro de Mando Integral" widgetVar="dlgComentario" modal="true" showEffect="fade" hideEffect="fade" resizable="false" width="650" closeOnEscape="true">
                    <p:panelGrid id="pnlAgregarComentario" style="text-align:justify;" columns="1">
                        <hf:chart type="area" title="Avances Cuadro de Mando Integra de #{cuadroMandoIntegralUniversidad.mes}" xaxisLabel="Mes" yaxisLabel="% avance" >
                            <hf:chartSerie name="Avances" value="#{cuadroMandoIntegralUniversidad.graficaProyecto}" var="point" point="#{cuadroMandoIntegralUniversidad.df.format(point.avance)}"  tickLabel="#{point.mes}"/>
                        </hf:chart>
                    </p:panelGrid>
                </p:dialog>
            </h:form>
        </c:if>
        <c:if test="#{!controladorEmpleado.tienePOA}">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <div id="main-buttons" class="hidden-sm hidden-xs" >
                        <p:panel style="text-align: center">
                            <h1>
                                El área a la que pertenece no tiene permisos de acceso a POA 
                            </h1>
                        </p:panel>
                    </div>
                </div>
            </div>
        </c:if>
        </c:if>
    </ui:define>
</ui:composition>

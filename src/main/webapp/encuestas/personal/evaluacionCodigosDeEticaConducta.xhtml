<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:adm="http://github.com/adminfaces"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:pe="http://primefaces.org/ui/extensions"
                template="#{layoutMB.template}">

    <ui:define name="head-end">
        <c:if test="#{utilidadesAcceso.procesoElectoralActivo}">
            <link rel="stylesheet" type="text/css" href="../../resources/css/procesoElectoral.css" media="screen" />
        </c:if>
        <style type="text/css">
            .ui-datatable .ui-datatable-header {
                text-align: right !important;
            }
            .description-block{
                text-align: justify;
            }
            .description-header{
                text-align: center;
            }

            .ui-selectOneButton-panel .ui-selectOneButton-filter-container{
                width: 100%;
            }
            .aceptado {
                background-color: #00a65a  !important;
                text-align: left !important;
            }
            .denegado{
                background-color: #c43c35 !important;
            }
        </style>
    </ui:define>

    <ui:define name="title">
    </ui:define>

    <ui:define name="description">
        EVALUACIÓN DE CONOCIMIENTO Y CUMPLIMIENTO DE LOS CÓDIGOS DE ÉTICA Y CONDUCTA Y FUNCIONAMIENTO DEL COMITÉ DE ÉTICA DE LA UNIVERSIDAD
    </ui:define>

    <ui:define name="body">
        <c:if test="#{evaluacionConocimientoCodigoEtica.cargado}">
        <div class="contenedor">
            <c:if test="#{evaluacionConocimientoCodigoEtica.tieneAcceso}">
                <h:form id="frm" prependId="false" class="form-inline">
                    <div class="box box-primary">
                        <div class="box-header with-border">
                            <div id="main-buttons" class="hidden-sm hidden-xs" >
                                <p:focus for="ayuda"/>

                                <p:outputPanel id="ayuda">
                                    <p:autoUpdate/>
                                    <p:toolbar id="tb">
                                        <f:facet name="left">
                                        </f:facet>
                                        <f:facet name="right">
                                            <c:if test="#{evaluacionConocimientoCodigoEtica.finalizado}">
                                                <h4><span class="label aceptado"><i class="fa fa-check" />Ha finalizado la evaluación.</span></h4>
                                            </c:if>
                                            <c:if test="#{!evaluacionConocimientoCodigoEtica.finalizado}">
                                                <h4><span class="label denegado"><i class="fa fa-close" />Debe responder todas las preguntas.</span></h4>
                                            </c:if>
                                        </f:facet>
                                    </p:toolbar>
                                    <p:sticky target="tb" />
                                </p:outputPanel>
                            </div>
                            <div class="box box-solid">
                                <div class="box-header">
                                </div>
                                <div class="box-body">
                                    <c:set var="index" value="#{1}" />
                                    <c:forEach items="#{evaluacionConocimientoCodigoEtica.rol.apartados}" var="apartado">
                                        <div class="row">
                                            <div class="panel panel-primary" style="max-width: 900px;margin: auto; font-size: large;">
                                                <div class="panel-heading">
                                                    <h3 class="panel-title" style="text-align: justify;">
                                                        #{apartado.contenido}
                                                    </h3>
                                                </div>
                                                <table class="table table-striped table-responsive">
                                                    <thead>
                                                    <tr class="btn-success">
                                                        <th style="width: 50px">#</th>
                                                        <th style="width: 300px">Pregunta</th>
                                                        <th style="text-align: center; width: 280px;">Opción</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <c:forEach items="#{apartado.preguntas}" var="pregunta">
                                                        <tr>
                                                            <td><h:outputLabel value="#{pregunta.numero}"><f:convertNumber pattern="##.#" /></h:outputLabel></td>
                                                            <td style="text-align: justify;">#{pregunta.titulo} <label style="color: #E53935" >*</label></td>
                                                            <td class="danger" style="min-width: 120px; text-align: justify;">
                                                                <f:ajax execute="p#{index}">
                                                                    <c:set var="pos" value="#{'p'.concat(index)}" />
                                                                    <c:if test="#{pregunta.numero eq 1.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="Guiar con valores a los integrantes de los municipios."/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="Establecer los principios y valores que deberán observar los Servidores Públicos en el ejercicio de su empleo, cargo o comisión."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="Ninguna de las anteriores"/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                    <c:if test="#{pregunta.numero eq 2.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="El Gobernador por conducto del Congreso del Estado."/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="Los Jefes de Departamento de la Universidad."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="Los Titulares de las dependencias y entidades de la Administración Pública Estatal."/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                    <c:if test="#{pregunta.numero eq 3.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="Fortalecer la confianza de los ciudadanos en las instituciones; Promover la cultura ética de la Administración Pública Estatal."/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="Colaborar a la consolidación de una cultura gubernamental de legalidad, integridad, transparencia y rendición de cuentas; Procurar un ambiente laboral, armonioso, profesional y basado en el respeto mutuo."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="Todas las anteriores"/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                    <c:if test="#{pregunta.numero eq 4.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="Legalidad, honradez, lealtad, imparcialidad, eficacia y eficiencia."/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="Eficacia, eficiencia y economía."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="Transparencia y rendición de cuentas."/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                    <c:if test="#{pregunta.numero eq 5.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="Honradez, igualdad, imparcialidad y justicia."/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="Responsabilidad, interés público, Transparencia, igualdad y no discriminación, respeto, entorno cultural y ecológico y liderazgo."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="Legalidad, honradez, lealtad, imparcialidad, eficacia y eficiencia."/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                    <c:if test="#{pregunta.numero eq 6.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="Servidores Públicos del Estado"/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="Servidores Públicos de la Universidad."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="Alumnado, personal académico y administrativo de la Universidad."/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                    <c:if test="#{pregunta.numero eq 7.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="Obediencia, recato, sencillez, cabalidad y perfección."/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="Calidad, compromiso, disciplina, eficacia, equidad, generosidad, honestidad, respeto, responsabilidad, servicio, tolerancia, transparencia."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="Todas las anteriores."/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                    <c:if test="#{pregunta.numero eq 8.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="El Comité de Igualdad Laboral y No Discriminación."/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="El Comité de Transparencia."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="El Comité de Ética y Prevención de Conflictos de Interés"/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                    <c:if test="#{pregunta.numero eq 9.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="Las y los estudiantes, personal académico y personal administrativo."/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="Sociedad y empresarios."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="Servidores públicos, sector empresarial y sector productivo."/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                    <c:if test="#{pregunta.numero eq 10.0}">
                                                                        <p:selectOneButton id="p#{index}" value="#{evaluacionConocimientoCodigoEtica.rol.respuestas[pos]}" valueChangeListener="#{evaluacionConocimientoCodigoEtica.guardarRespuesta}">
                                                                            <f:selectItem itemValue="1" itemDescription="A" itemLabel="De compromiso, responsabilidad, tolerancia, honestidad y lealtad."/>
                                                                            <f:selectItem itemValue="2" itemDescription="B" itemLabel="Obediencia, recato, sencillez, cabalidad y perfección."/>
                                                                            <f:selectItem itemValue="3" itemDescription="C" itemLabel="Todas las anteriores."/>
                                                                        </p:selectOneButton>
                                                                    </c:if>
                                                                </f:ajax>
                                                                <c:set var="index" value="#{index+1}" />
                                                            </td>
                                                        </tr>
                                                    </c:forEach>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <p:separator style="max-width: 1000px;" />
                                    </c:forEach>
                                </div>
                            </div>


                        </div>
                    </div>
                </h:form>
            </c:if>
            <c:if test="#{!evaluacionConocimientoCodigoEtica.tieneAcceso}">
                <p:panel id="box-colors-panel" header="Acceso no autorizado" styleClass="box-fatal box-solid">
                    <h:panelGrid columns="2" cellpadding="10">
                        <h:outputText value="El acceso solo está autorizado al personal activo"/>
                    </h:panelGrid>
                    <f:facet name="footer"></f:facet>
                </p:panel>
            </c:if>
        </div>
            </c:if>
    </ui:define>
</ui:composition>
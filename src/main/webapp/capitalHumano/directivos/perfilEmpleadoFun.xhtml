<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:adm="http://github.com/adminfaces"
                template="/WEB-INF/templates/template.xhtml"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
                xmlns:pe="http://primefaces.org/ui/extensions">

    <ui:define name="head-end">
        <ui:param name="renderBreadCrumb" value="false"/>

        <link href="../resources/demo/css/primitives.latest.css?219" media="screen" rel="stylesheet" type="text/css" />
        <!-- Inicio estilos par proceso electoral -->            
        <c:if test="#{controladorEmpleado.procesoElectoralActivo}">
            <link rel="stylesheet" type="text/css" href="../../resources/css/procesoElectoral.css" media="screen" />
        </c:if>
        <c:if test="#{!controladorEmpleado.procesoElectoralActivo}">
            <link rel="stylesheet" type="text/css" href="../../resources/css/estilosGenerales.css" media="screen" />
        </c:if>
        <!-- Fin estilos par proceso electoral -->
    </ui:define>

    <ui:define name="title"/>

    <ui:define name="body">
        <style>
            .ui-organigram .ui-organigram-node{
                padding: 0px;
            }
        </style>
        <p:panel id="errort" header="Error de Tamaño" class="show-xs show-sm hidden-md hidden-lg hidden-xl">
            <h1>
                Esta página está disponible solo para pantallas superiores a 1024px.
            </h1>
        </p:panel>
        <c:if test="#{controladorEmpleado.fechaLimiteFunciones}">
            <div class="box box-primary">
                <div class="box box-solid">
                    <div class="box-header with-border">
                        <h3 class="box-title">Fecha límite</h3>
                        <div class="box-tools pull-right">
                            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="box-body">  
                        <div class="row">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <div class="info-box">
                                    <span class="info-box-icon bg-red"><i class="fa fa-exclamation"></i></span>

                                    <div class="info-box-content">
                                        <span class="info-box-number" style="#{controladorEmpleado.procesoElectoralActivo ==true ?'color: #cccccc':'color: #E53935'}">NOTA</span>
                                        <span class="info-box-number">#{controladorEmpleado.fechaLimiteRegistroFunciones}.</span>
                                    </div>
                                </div>
                            </div>
                        </div>                
                    </div>
                </div>
            </div>
        </c:if>
        <c:if test="#{controladorEmpleado.nuevoOBJListaPersonal.actividadNombre eq 'Directivo' || controladorEmpleado.nuevoOBJListaPersonal.actividadNombre eq 'Coordinador' || controladorEmpleado.nuevoOBJListaPersonal.clave eq 563}">
            <p:panel id="informacion" class="hidden-xs hidden-sm">
                <section class="content">
                    <div class="row">
                        <ui:include src="/includes/plantillaPerfilEmpleado.xhtml"/>
                        <div class="col-md-10">
                            <div class="nav-tabs-custom">
                                <div class="row">
                                    <h:form >
                                        <div class="col-lg-3 col-xs-3"/>
                                        <div class="col-lg-2 col-xs-2">
                                            <p:commandButton id="comentarios" rendered="#{controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa eq 28?true:false}" disabled="#{controladorFunciones.totalC eq 0? true:false}" title="#{controladorFunciones.totalC} Observaciones pendientes " value="Observaciones" icon="fa fa-info-circle" class="btn btn-info" oncomplete="PF('dlgObser').show();"/>                                                                    
                                        </div> 
                                        <p:outputPanel>            
                                            <p:autoUpdate/>
                                            <div class="col-lg-3 col-xs-3">
                                                <p:commandButton id="puestosEspecificos" rendered="#{controladorFunciones.puestoTipo eq 'Administrativo'?true:false}" value="Nuevo puesto específico" icon="fa fa-id-card-o" class="btn btn-info" oncomplete="PF('dlgNewP').show();"/>                                                                    
                                            </div> 
                                        </p:outputPanel>
                                        <div class="col-lg-2 col-xs-2">
                                            <p:commandButton id="info" value="Ayuda" icon="fa fa-info-circle" class="btn btn-info" oncomplete="PF('dlgAyuda').show();" rendered="#{controladorEmpleado.fechaLimiteFunciones}"/>                                                                    
                                        </div> 
                                        <div class="col-lg-2 col-xs-2">
                                            <p:link  href="/capitalHumano/perfilEmpleado.xhtml">
                                                <i class="fa fa-reply"></i>
                                                <span>Regresar a mi perfil</span>
                                            </p:link>
                                        </div> 
                                    </h:form>
                                </div>
                                <p:tabView>
                                    <p:tab title="Funciones">
                                        <c:if test="#{controladorEmpleado.fechaLimiteFunciones}">
                                            <h:form id="frmInci"> 
                                                <p:outputPanel>
                                                    <div class="row" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
                                                        <div class="col-md-12">
                                                            <div class="box box-widget widget-user-2">
                                                                <div class="row">
                                                                    <div class="col-sm-12 border-right">
                                                                        <div class="description-block">
                                                                            <div class="row">
                                                                                <div class="form-group">
                                                                                    <div class="col-sm-12 col-md-12 col-lg-12">
                                                                                        <p:outputLabel for="catP" style="font-size: large" value="Categoría/Puesto"/>                                
                                                                                        <p:selectOneMenu id="catP" widgetVar="catP" value="#{controladorFunciones.claveCategoria}" filter="true" filterMatchMode="contains" style = "height:100%; width: 100%; object-fit: contain;" class="control-label">
                                                                                            <f:selectItem itemValue="0" itemLabel="Todas las categorías"/>
                                                                                            <f:selectItems value="#{controladorFunciones.listaCategorias}" var="categorias" itemValue="#{categorias.clave}" itemLabel="#{categorias.nombre}" />
                                                                                            <c:if test="#{controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa==28}">
                                                                                                <f:selectItem itemValue="30" itemLabel="Profesor/a de asignatura"/>    
                                                                                                <f:selectItem itemValue="32" itemLabel="Profesor/a tiempo completo"/>    
                                                                                                <f:selectItem itemValue="41" itemLabel="Técnico/a Laboratorista"/>   
                                                                                            </c:if>                                                                                    
                                                                                            <p:ajax listener="#{controladorFunciones.consultarFuncnPorAyC()}" process="catP" update="tblActividades area"/>
                                                                                        </p:selectOneMenu>
                                                                                        <p:message for="catP" display="tooltip" />                                                                                
                                                                                        <hr/>                                                                         
                                                                                        <p:outputPanel>            
                                                                                            <p:autoUpdate/>
                                                                                            <p:outputLabel for="area" style="font-size: large" value="Área específica"/>                                
                                                                                            <p:selectOneRadio id="area" columns="2" widgetVar="area" value="#{controladorFunciones.claveArea}" style = "height:100%; width: 100%; object-fit: contain;" class="control-label" disabled="#{
                                                                                                                                                              controladorFunciones.claveCategoria eq 1?false:
                                                                                                                                                              controladorFunciones.claveCategoria eq 13?false:
                                                                                                                                                              controladorFunciones.claveCategoria eq 14?false:
                                                                                                                                                              controladorFunciones.claveCategoria eq 18?false:
                                                                                                                                                              controladorFunciones.claveCategoria eq 24?false:
                                                                                                                                                              controladorFunciones.claveCategoria eq 33?false:
                                                                                                                                                              controladorFunciones.claveCategoria eq 38?false:
                                                                                                                                                              controladorFunciones.claveCategoria eq 39?false:
                                                                                                                                                              controladorFunciones.claveCategoria eq 111?false:
                                                                                                                                                              controladorFunciones.claveCategoria eq 112?false:true}">
                                                                                                <f:selectItems value="#{controladorFunciones.listalistaAreas}" var="categorias" itemValue="#{categorias.clave}" itemLabel="#{categorias.nombre}" />
                                                                                                <p:ajax listener="#{controladorFunciones.consultarFuncnPorAC()}" process="area" update="tblActividades"/>
                                                                                            </p:selectOneRadio>
                                                                                            <p:message for="area" display="tooltip" />   
                                                                                            <hr/>
                                                                                        </p:outputPanel>
                                                                                        <p:outputPanel autoUpdate="true" >
                                                                                            <p:outputLabel for="puestosEspe" style="font-size: large" rendered="#{controladorFunciones.listaCategoriasEspecificas.size() eq 0?false:true}" value="Categoría específica"/>                                
                                                                                            <p:selectOneRadio id="puestosEspe" columns="2" widgetVar="puestosEspe" value="#{controladorFunciones.claveCategoria2}" style = "height:100%; width: 100%; object-fit: contain;" class="control-label" disabled="#{controladorFunciones.puestoTipo eq 'Administrativo'?false:true}">
                                                                                                <f:selectItems value="#{controladorFunciones.listaCategoriasEspecificas}" var="categorias" itemValue="#{categorias.clave}" itemLabel="#{categorias.nombre}" />
                                                                                                <p:ajax listener="#{controladorFunciones.consultarFuncnesAC()}" process="puestosEspe" update="tblActividades"/>
                                                                                            </p:selectOneRadio>
                                                                                            <p:message for="puestosEspe" display="tooltip" />
                                                                                            <hr/>       
                                                                                        </p:outputPanel>
                                                                                        <p:outputLabel for="funcion" style="font-size: large" value="Función"/>                                
                                                                                        <p:inputTextarea id="funcion" class="form-control" placeholder="Función" value="#{controladorFunciones.nuevoOBJFunciones.nombre}"/>
                                                                                        <p:message for="funcion" display="tooltip" />
                                                                                        <hr/> 
                                                                                        <p:outputLabel for="tipo" style="font-size: large" value="Tipo"/>                                
                                                                                        <p:selectOneRadio id="tipo" value="#{controladorFunciones.nuevoOBJFunciones.tipo}" style = "height:100%; width: 100%; object-fit: contain;" class="control-label">
                                                                                            <f:selectItem itemValue="GENERAL" itemLabel="General"/>
                                                                                            <f:selectItem itemValue="ESPECIFICA" itemLabel="Especifica"/>
                                                                                        </p:selectOneRadio>  
                                                                                        <p:message for="tipo" display="tooltip" />         
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <hr/>
                                                                            <div class="row">
                                                                                <div class="form-group">
                                                                                    <div class="col-sm-4 col-md-4 col-lg-4"/>
                                                                                    <div class="col-sm-4 col-md-4 col-lg-4">
                                                                                        <p:outputPanel>            
                                                                                            <p:autoUpdate/>
                                                                                            <p:commandButton id="btnBuscarActiuvidades" value="Guardar información" actionListener="#{controladorFunciones.crearFuncion()}" icon="fa fa-pencil-square-o" class="btn-primary btn-block col-md-3" update="@form tblActividades" process="@form" 
                                                                                                             disabled="#{controladorFunciones.claveCategoria eq 1?true:
                                                                                                                         controladorFunciones.claveCategoria eq 18?true:
                                                                                                                         controladorFunciones.claveCategoria eq 33?true:
                                                                                                                         controladorFunciones.claveCategoria eq 38?true:
                                                                                                                         controladorFunciones.claveCategoria eq 111?true:
                                                                                                                         controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa != 28?(
                                                                                                                         controladorFunciones.claveCategoria eq 30?true:(
                                                                                                                         controladorFunciones.claveCategoria eq 32?true:(
                                                                                                                         controladorFunciones.claveCategoria eq 41?true:false))):false}"/>
                                                                                        </p:outputPanel>                                                                                    
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <hr/>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <hr/>                                                        
                                                            </div>
                                                        </div>
                                                    </div>
                                                </p:outputPanel>
                                                <p:outputPanel>
                                                    <p:dataTable id="tblActividades"  value="#{controladorFunciones.listaFunciones}"  var="funcion"
                                                                 paginator="true" rows="10"
                                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                 rowsPerPageTemplate="5,10,15,20,25,30"
                                                                 emptyMessage="No se encontraron funciones." rendered="true"
                                                                 editable="true" style="margin-bottom:20px"
                                                                 selectionMode="single" selection="#{controladorFunciones.nuevoOBJFuncionesSelect}" rowKey="#{funcion.funcion}">

                                                        <p:ajax event="rowEdit" listener="#{controladorFunciones.onRowEdit}" update="tblActividades" />
                                                        <p:ajax event="rowEditCancel" listener="#{controladorFunciones.onRowCancel}" update="tblActividades" />
                                                        <p:ajax event="rowSelect"   update="delate coment"/>
                                                        <p:ajax event="rowUnselect" update="delate coment"/>

                                                        <p:column headerText="Categoría/Puesto" 
                                                                  sortBy="#{funcion.categoriaOperativa.nombre}" 
                                                                  filterBy="#{funcion.categoriaOperativa.nombre}" 
                                                                  filterMatchMode="contains"
                                                                  style="width:200px; text-align: center">
                                                            <h:outputText value="#{funcion.categoriaOperativa.nombre}" />
                                                        </p:column>

                                                        <p:column headerText="Categoría/Puesto especifico" 
                                                                  sortBy="#{funcion.categoriaEspesifica.nombreCategoria}" 
                                                                  filterBy="#{funcion.categoriaEspesifica.nombreCategoria}" 
                                                                  filterMatchMode="contains"
                                                                  style="width:200px; text-align: center">
                                                            <h:outputText value="#{funcion.categoriaEspesifica.nombreCategoria}" />
                                                        </p:column>

                                                        <p:column headerText="Función" 
                                                                  sortBy="#{funcion.nombre}" 
                                                                  filterBy="#{funcion.nombre}" 
                                                                  filterMatchMode="contains"
                                                                  style="text-align: justify">
                                                            <p:cellEditor >
                                                                <f:facet name="output"><h:outputText value="#{funcion.nombre}" /></f:facet>
                                                                <f:facet name="input"><p:inputTextarea value="#{funcion.nombre}" style = "height:100%; width: 100%; object-fit: contain;"/></f:facet>
                                                            </p:cellEditor>
                                                        </p:column>

                                                        <p:column headerText="Tipo" 
                                                                  sortBy="#{funcion.tipo}" 
                                                                  filterBy="#{funcion.tipo}" 
                                                                  filterMatchMode="contains"
                                                                  style="width:150px; text-align: center">
                                                            <h:outputText value="#{funcion.tipo}"/>
                                                        </p:column>

                                                        <p:column headerText="Editar" style="width:80px; " visible="#{
                                                                  funcion.categoriaOperativa.categoria eq 1?false:
                                                                      funcion.categoriaOperativa.categoria eq 18?false:
                                                                      funcion.categoriaOperativa.categoria eq 33?false:
                                                                      funcion.categoriaOperativa.categoria eq 38?false:
                                                                      funcion.categoriaOperativa.categoria eq 111?false:                                                                                                                                                                  
                                                                      controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa != 28 ? 
                                                                      (funcion.categoriaOperativa.categoria eq 30?false:
                                                                      (funcion.categoriaOperativa.categoria eq 32?false:
                                                                      (funcion.categoriaOperativa.categoria eq 41?false:true))):true}">

                                                            <div id="j_idt110:frmInci:tblActividades:0:j_idt151" class="ui-row-editor ui-helper-clearfix" style="align-content: center">
                                                                <a href="#" class="ui-row-editor-pencil">
                                                                    <span class="ui-icon ui-icon-pencil"></span>
                                                                </a>
                                                                <a href="#" class="ui-row-editor-check">
                                                                    <span class="ui-icon ui-icon-check ui-c"></span>
                                                                </a>
                                                                <p:spacer width="20px"/>
                                                                <a href="#" class="ui-row-editor-close">
                                                                    <span class="ui-icon ui-icon-close ui-c"></span>
                                                                </a>
                                                            </div>
                                                        </p:column>

                                                        <f:facet name="footer">
                                                            <p:commandButton id="delate" value="Eliminar" icon="fa fa-eraser" class="btn btn-danger" oncomplete="PF('dlgDelate1').show();" disabled="#{controladorFunciones.claveCategoria eq 1?true:
                                                                                                                                                                                                       controladorFunciones.claveCategoria eq 18?true:
                                                                                                                                                                                                       controladorFunciones.claveCategoria eq 30?(controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa != 28 ? true:empty controladorFunciones.nuevoOBJFuncionesSelect):
                                                                                                                                                                                                       controladorFunciones.claveCategoria eq 32?(controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa != 28 ? true:empty controladorFunciones.nuevoOBJFuncionesSelect):
                                                                                                                                                                                                       controladorFunciones.claveCategoria eq 33?true:
                                                                                                                                                                                                       controladorFunciones.claveCategoria eq 38?true:
                                                                                                                                                                                                       controladorFunciones.claveCategoria eq 41?(controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa != 28 ? true:empty controladorFunciones.nuevoOBJFuncionesSelect):
                                                                                                                                                                                                       controladorFunciones.claveCategoria eq 111?true:
                                                                                                                                                                                                       controladorFunciones.nuevoOBJFuncionesSelect.categoriaOperativa.categoria eq 1?true:
                                                                                                                                                                                                       controladorFunciones.nuevoOBJFuncionesSelect.categoriaOperativa.categoria eq 18?true:
                                                                                                                                                                                                       controladorFunciones.nuevoOBJFuncionesSelect.categoriaOperativa.categoria eq 33?true:
                                                                                                                                                                                                       controladorFunciones.nuevoOBJFuncionesSelect.categoriaOperativa.categoria eq 38?true:
                                                                                                                                                                                                       controladorFunciones.nuevoOBJFuncionesSelect.categoriaOperativa.categoria eq 111?true:
                                                                                                                                                                                                       empty controladorFunciones.nuevoOBJFuncionesSelect}"/>
                                                            <p:commandButton id="coment" value="Escribir observación" icon="fa fa-pencil" class="btn btn-info" oncomplete="PF('dlgcoment').show();" rendered="#{controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa eq 1 ? true:
                                                                                                                                                                                                        controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa eq 4 ? true:
                                                                                                                                                                                                        controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa eq 11 ? true:
                                                                                                                                                                                                        controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa eq 16 ? true:
                                                                                                                                                                                                        controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa eq 20 ? true:
                                                                                                                                                                                                        controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa eq 24 ? true:
                                                                                                                                                                                                        controladorFunciones.nuevoOBJListaPersonalLogeado.areaOperativa eq 47 ? true:false}" disabled="#{controladorFunciones.claveCategoria eq 30?empty controladorFunciones.nuevoOBJFuncionesSelect:
                                                                                                                                                                                                        controladorFunciones.claveCategoria eq 32?empty controladorFunciones.nuevoOBJFuncionesSelect:
                                                                                                                                                                                                        controladorFunciones.claveCategoria eq 41?empty controladorFunciones.nuevoOBJFuncionesSelect:true}"/>
                                                        </f:facet>

                                                    </p:dataTable>  
                                                </p:outputPanel>    
                                            </h:form>
                                        </c:if>
                                        <c:if test="#{!controladorEmpleado.fechaLimiteFunciones}">
                                            <!--div class="box box-solid">
                                                <div class="box-header with-border">
                                                    <h3 class="info-box-number">Fecha límite</h3>
                                                    <div class="box-tools pull-right">
                                                        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
                                                        </button>
                                                    </div>
                                                </div>
                                                <div class="box-body">  
                                                    <div class="row">
                                                        <div class="col-md-12 col-sm-12 col-xs-12">
                                                            <div class="info-box">
                                                                <span class="info-box-icon bg-red"><i class="fa fa-exclamation"></i></span>

                                                                <div class="info-box-content">
                                                                    <span class="info-box-number" style="#{controladorEmpleado.procesoElectoralActivo ==true ?'color: #cccccc':'color: #E53935'}">NOTA</span>
                                                                    <span class="info-box-number">La fecha límite para la actualización de curriculum se ha vencido <p style="#{controladorEmpleado.procesoElectoralActivo ==true ?'color: #999999':'color: #0675ca'}">GRACIAS POR SU COLABORACIÓN</p></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>                
                                                </div>
                                            </div-->
                                            <div class="row" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
                                                <div class="col-md-12">
                                                    <div class="box box-widget widget-user-2">
                                                        <div class="row">
                                                            <div class="col-sm-12 border-right">
                                                                <div class="description-block">
                                                                    <h5 class="description-header">Función genérica</h5>
                                                                    <c:forEach var = "i" begin = "0" end = "#{controladorEmpleadoLogeado.nuevaListaFuncionesGenerales.size()-1}">
                                                                        <br/>
                                                                        <span class="description-text" style="text-align: justify">#{controladorEmpleadoLogeado.nuevaListaFuncionesGenerales.get(i)}</span>
                                                                        <br/>
                                                                    </c:forEach>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <hr/>
                                                        <div class="row">
                                                            <div class="col-sm-12 border-right">
                                                                <div class="description-block">
                                                                    <h5 class="description-header">Funciones específicas</h5>
                                                                    <c:forEach var = "i" begin = "0" end = "#{controladorEmpleadoLogeado.nuevaListaFuncionesEspecificas.size()-1}">
                                                                        <br/>
                                                                        <span class="description-text" style="text-align: justify">#{controladorEmpleadoLogeado.nuevaListaFuncionesEspecificas.get(i)}</span>
                                                                        <br/>
                                                                    </c:forEach>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </c:if>
                                    </p:tab>
                                    <p:tab title="Organigrama oficial">
                                        <h:form id="form1">
                                            <p:growl id="grow1" />

                                            <div class="row">
                                                <div class="col-md-.5"/>
                                                <div class="col-md-12">
                                                    <p:organigram id="organigram"
                                                                  widgetVar="organigram"
                                                                  value="#{organigramView2.rootNode}"
                                                                  var="node"
                                                                  leafNodeConnectorHeight="#{organigramView2.leafNodeConnectorHeight}"
                                                                  autoScrollToSelection="#{organigramView2.autoScrollToSelection}"
                                                                  zoom="#{organigramView2.zoom}"
                                                                  selection="#{organigramView2.selection}"
                                                                  style="#{organigramView2.style}">

                                                        <p:organigramNode>
                                                            <h:outputText value="#{node.data}" />
                                                        </p:organigramNode>

                                                        <p:organigramNode type="root"
                                                                          style="border-radius: 10px;">
                                                            <h:outputText value="#{node.data}" />
                                                        </p:organigramNode>

                                                        <p:organigramNode type="division"
                                                                          styleClass="division"
                                                                          icon="ui-icon-suitcase"
                                                                          iconPos="left"
                                                                          style="border-radius: 15px;"
                                                                          class="collapsed">
                                                            <h:outputText value="#{node.data}" />
                                                        </p:organigramNode>

                                                        <p:organigramNode type="division2"
                                                                          styleClass="division2"
                                                                          icon="ui-icon-suitcase"
                                                                          iconPos="left"
                                                                          style="border-radius: 15px;"
                                                                          class="collapsed">
                                                            <h:outputText value="#{node.data}" />
                                                        </p:organigramNode>

                                                        <p:organigramNode type="division3"
                                                                          styleClass="division3"
                                                                          icon="ui-icon-suitcase"
                                                                          style="border-radius: 15px;"
                                                                          iconPos="left">
                                                            <h:outputText value="#{node.data}" />
                                                        </p:organigramNode>

                                                        <p:organigramNode type="employee"
                                                                          styleClass="employee"
                                                                          icon="ui-icon-person"
                                                                          rendered="false">
                                                            <h:outputText value="#{node.data}" />
                                                        </p:organigramNode>
                                                    </p:organigram>
                                                </div>
                                            </div>

                                        </h:form>

                                    </p:tab>
                                    <p:tab title="Organigrama operativo">
                                        <h:form id="form">
                                            <p:growl id="growl" />

                                            <div class="row" >
                                                <div class="col-md-2"/>
                                                <div class="col-md-8">
                                                    <p:outputLabel  value="Mando superior" class="msperior"/>
                                                    <p:spacer width="15px"/>
                                                    <p:outputLabel  value="Mandos medios superior" class="mmsperior"/>
                                                    <p:spacer width="15px"/>
                                                    <p:outputLabel  value="Áreas de apoyo" class="aapoyo"/>
                                                    <p:spacer width="15px"/>
                                                    <p:outputLabel  value="Subordinado" class="subordinado"/>
                                                </div>
                                            </div>
                                            <p:spacer />
                                            <div class="row">
                                                <div class="col-md-.5"/>
                                                <div class="col-md-12">
                                                    <p:organigram id="organigram"
                                                                  widgetVar="organigram"
                                                                  value="#{organigramView4.OP1}"
                                                                  var="nodeOF"
                                                                  leafNodeConnectorHeight="#{organigramView4.leafNodeConnectorHeight}"
                                                                  autoScrollToSelection="#{organigramView4.autoScrollToSelection}"
                                                                  zoom="#{organigramView4.zoom}"
                                                                  selection="#{organigramView4.selection}"
                                                                  style="#{organigramView4.style}">

                                                        <p:ajax event="select" process="@this" update="@form:growl" listener="#{organigramView4.nodeSelectListener}" />
                                                        <p:ajax event="contextmenu" process="@this" />


                                                        <p:organigramNode>
                                                            <h:outputText value="#{nodeOF.data}" />
                                                        </p:organigramNode>
                                                        <p:organigramNode type="root"
                                                                          style="border-radius: 10px; width: 300px;">

                                                            <p:panelGrid  style="width: 290px">
                                                                <p:row style="height: 40px;">
                                                                    <p:column colspan="2" style="height: 40px; border-color:#043191; font-weight: bold;background:#043191;color: #ffffff ">
                                                                        <h:outputText value="#{organigramView4.obtenerEmpleadoArea(nodeOF)}"/>
                                                                        <h:outputText value=" _________________________________"/>
                                                                    </p:column>
                                                                </p:row>

                                                                <p:row>
                                                                    <p:column style="background:#043191; border-color:#043191;color: #ffffff">    
                                                                        <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{nodeOF.data}.jpg" class="img-circle" alt="Imagen no disponible" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 75px; height: 75px;"/>
                                                                    </p:column>
                                                                    <p:column style="background:#043191; border-color:#043191;color: #ffffff">
                                                                        <h:outputText value="#{organigramView4.obtenerEmpleadoNombre(nodeOF)}" />
                                                                        <h:outputText value=" ____________________ "/>
                                                                        <h:outputText value="#{organigramView4.obtenerEmpleadoCategoria(nodeOF)}" />
                                                                    </p:column>
                                                                </p:row>
                                                            </p:panelGrid>

                                                        </p:organigramNode>

                                                        <p:organigramNode type="opcional"
                                                                          style="background: #000000; width: 1px;height: 200px">
                                                            <h:outputText value="#{nodeOF.data}"/>
                                                        </p:organigramNode>

                                                        <p:organigramNode type="colaborador"
                                                                          styleClass="colaborador"
                                                                          icon="ui-icon-suitcase"
                                                                          iconPos="left" 
                                                                          class="collapsed">

                                                            <div style="height: 40px">
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoArea(nodeOF)}" />
                                                            </div>
                                                            <div style="height: 95px">
                                                                <h:outputText value=" ____________________ "/>
                                                                <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{nodeOF.data}.jpg" class="img-circle" alt="Imagen no disponible" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 75px; height: 75px;"/>
                                                            </div>
                                                            <div style="height: 40px">
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoNombre(nodeOF)}" />
                                                            </div>

                                                        </p:organigramNode>

                                                        <p:organigramNode type="division"
                                                                          styleClass="division"
                                                                          icon="ui-icon-suitcase"
                                                                          iconPos="left" 
                                                                          class="collapsed">
                                                            <div style="height: 40px; align-content: center">
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoArea(nodeOF)}" />
                                                            </div>
                                                            <div style="height: 95px">
                                                                <h:outputText value=" ____________________ " />
                                                                <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{nodeOF.data}.jpg" class="img-circle" alt="Imagen no disponible" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 75px; height: 75px;"/>
                                                            </div>
                                                            <div style="height: 40px">
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoNombre(nodeOF)}" />
                                                            </div>
                                                        </p:organigramNode>

                                                        <p:organigramNode type="staff2"
                                                                          styleClass="staff2"
                                                                          icon="ui-icon-person"
                                                                          iconPos="center" 
                                                                          class="collapsed">

                                                            <div style="height: 40px; align-content: center">
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoArea(nodeOF)}" />
                                                            </div>
                                                            <div style="height: 95px">
                                                                <h:outputText value=" ____________________ "/>
                                                                <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{nodeOF.data}.jpg" class="img-circle" alt="Imagen no disponible" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 75px; height: 75px;"/>
                                                            </div>
                                                            <div style="height: 40px">
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoNombre(nodeOF)}" />
                                                            </div>
                                                        </p:organigramNode>

                                                        <p:organigramNode type="arapo"
                                                                          styleClass="arapo"
                                                                          icon="ui-icon-suitcase"
                                                                          iconPos="left" 
                                                                          class="collapsed">
                                                            <div style="height: 40px; align-content: center">
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoArea(nodeOF)}" />
                                                            </div>
                                                            <div style="height: 95px">
                                                                <h:outputText value=" ____________________ "/>
                                                                <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{nodeOF.data}.jpg" class="img-circle" alt="Imagen no disponible" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 75px; height: 75px;"/>
                                                            </div>
                                                            <div style="height: 40px"> 
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoNombre(nodeOF)}" />
                                                            </div>
                                                        </p:organigramNode>

                                                        <p:organigramNode type="staff"
                                                                          styleClass="staff"
                                                                          icon="ui-icon-person"
                                                                          iconPos="center" 
                                                                          class="collapsed">


                                                            <div style="height: 75px">
                                                                <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{nodeOF.data}.jpg" class="img-circle" alt="Imagen no disponible" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 75px; height: 75px;"/>
                                                            </div>
                                                            <div style="height: 22px"> 
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoNombre(nodeOF)}" />
                                                            </div>
                                                            <div style="height: 78px; align-content: center">
                                                                <h:outputText value=" ____________________ "/>
                                                                <h:outputText value="#{organigramView4.obtenerEmpleadoCategoria(nodeOF)}" />
                                                            </div>

                                                        </p:organigramNode>

                                                        <p:organigramNode type="employee"
                                                                          styleClass="employee"
                                                                          icon="ui-icon-person">
                                                            <h:outputText value="#{nodeOF.data}" />
                                                        </p:organigramNode>

                                                    </p:organigram>
                                                </div>
                                            </div>

                                        </h:form>

                                    </p:tab>

                                    <p:tab title="Puestos específicos">
                                        <h:form id="frmBajas">
                                            <p:dataTable id="dtbBajas" var="ByR" paginator="true" rows="10"
                                                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                         rowsPerPageTemplate="5,10,15,20,25,30"
                                                         value="#{controladorFunciones.listaPersonalJefes}" editable="true" style="margin-bottom:20px">
                                                <f:facet name="header">
                                                    Subordinados y puestos específicos
                                                </f:facet>

                                                <p:ajax event="rowEdit" listener="#{controladorFunciones.onRowEditPersonal}" update="dtbBajas" />
                                                <p:ajax event="rowEditCancel" listener="#{controladorFunciones.onRowCancel}" update="dtbBajas" />

                                                <p:column headerText="Clave"
                                                          sortBy="#{ByR.clave}" 
                                                          filterBy="#{ByR.clave}" 
                                                          filterMatchMode="contains" 
                                                          style="width: 75px">
                                                    <h:outputText value="#{ByR.clave}" />
                                                </p:column>

                                                <p:column headerText="Nombre"
                                                          sortBy="#{ByR.nombre}" 
                                                          filterBy="#{ByR.nombre}" 
                                                          filterMatchMode="contains">
                                                    <h:outputText value="#{ByR.nombre}" />
                                                </p:column>

                                                <p:column headerText="Actividad"
                                                          sortBy="#{ByR.categoriaOperativa.nombre}" 
                                                          filterBy="#{ByR.categoriaOperativa.nombre}" 
                                                          filterMatchMode="contains">
                                                    <h:outputText value="#{ByR.categoriaOperativa.nombre}" />
                                                </p:column>

                                                <p:column headerText="Categoría especifica"
                                                          sortBy="#{ByR.categoriaEspecifica.nombreCategoria}" 
                                                          filterBy="#{ByR.categoriaEspecifica.nombreCategoria}" 
                                                          filterMatchMode="contains">
                                                    <p:cellEditor>
                                                        <f:facet name="output"><h:outputText value="#{ByR.categoriaEspecifica.nombreCategoria}"/></f:facet>
                                                        <f:facet name="input">
                                                            <h:selectOneMenu value="#{ByR.categoriaEspecifica.categoriaEspecifica}" style="width:100%">
                                                                <f:selectItems value="#{controladorFunciones.listaCategoriasespecificasfuncioneses}" var="estatus" itemLabel="#{estatus.nombreCategoria}" itemValue="#{estatus.categoriaEspecifica}" />
                                                            </h:selectOneMenu>
                                                        </f:facet>
                                                    </p:cellEditor>
                                                </p:column>

                                                <p:column style="width:32px">
                                                    <p:rowEditor />
                                                </p:column>
                                            </p:dataTable>
                                        </h:form>
                                    </p:tab>                                   

                                </p:tabView>
                            </div>
                        </div>
                    </div>
                </section>
            </p:panel>

            <h:form id="frmayuda" >
                <p:dialog id="dlgAyuda" header="Ayuda" widgetVar="dlgAyuda" minimizable="true" maximizable="true" position="center">
                    <f:facet name="footer">
                        <p:commandButton id="btncancelar" value="Cerrar" class="btn btn-primary" icon="fa fa-times" process="@form" update="@form" onsuccess="PF('dlgAyuda').hide();"/>
                    </f:facet>
                    <p:outputPanel>            
                        <p:autoUpdate/>
                        <h:panelGrid columns="1"  class="col-md-12">
                            <object width="800" height="400" data="../../resources/documentos/registro_de_funciones.pdf" style="#{controladorEmpleado.procesoElectoralActivo eq false?'-webkit-filter: grayscale(100%);filter: grayscale(100%);':''}"/>
                        </h:panelGrid>
                    </p:outputPanel>
                </p:dialog>
            </h:form>

            <h:form id="frmNewP" >
                <p:dialog id="dlgNewP" header="Puesto especifico" widgetVar="dlgNewP" minimizable="true" maximizable="true" position="center">
                    <f:facet name="footer">
                        <p:commandButton id="btncancelar" value="Cancelar" class="btn btn-primary" icon="fa fa-times" process="@form" update="@form" onsuccess="PF('dlgNewP').hide();"/>
                        <p:commandButton id="btnAceptar" value="Guarda puesto específico" class="btn btn-primary" actionListener="#{controladorFunciones.agregarYactualizarCategoriasEspecificas()}" icon="fa fa-check" process="@form" update="@form" oncomplete="PF('dlgNewP').hide();"/>
                    </f:facet>
                    <p:outputPanel autoUpdate="true" style="max-width: 650px; max-height: 600px">
                        <p:scrollPanel style="width:600px">
                            <h:panelGrid columns="1"  class="col-md-12">
                                <p:outputLabel value="Nombre del puesto específico" for="nomPE"/>
                                <p:inputText id="nomPE" value="#{controladorFunciones.nombreCategoriaEspecifica}" style="text-align: justify" class="col-md-12"/>
                                <p:message for="nomPE"/>

                                <p:outputLabel value="Empleados para nuevo puesto específico" for="empleNP"/>
                                <p:selectManyCheckbox id="empleNP" value="#{controladorFunciones.listaClavesEmpleados}" layout="responsive" columns="1">
                                    <f:selectItems value="#{controladorFunciones.listaListaPersonalSubordinados}" var="subordinado" itemLabel="#{subordinado.nombre} - #{subordinado.categoriaOperativaNombre}" itemValue="#{subordinado.clave}" />
                                </p:selectManyCheckbox>
                                <p:message for="empleNP"/>
                            </h:panelGrid>
                        </p:scrollPanel>
                    </p:outputPanel>
                </p:dialog>
            </h:form>

            <h:form id="frmComent" >
                <p:dialog id="dlgcoment" header="Comentarios" widgetVar="dlgcoment" minimizable="true" maximizable="true" position="center">
                    <f:facet name="footer">
                        <p:commandButton id="btncancelar" value="Cancelar" class="btn btn-primary" icon="fa fa-check" process="@form" update="@form" onsuccess="PF('dlgcoment').hide();"/>
                        <p:commandButton id="btnAceptar" value="Guardar comentario" class="btn btn-primary" actionListener="#{controladorFunciones.crearComentariosfunciones()}" icon="fa fa-check" process="@form" update="@form" oncomplete="PF('dlgcoment').hide();"/>
                    </f:facet>
                    <p:outputPanel autoUpdate="true" style="max-width: 250px">
                        <h:panelGrid columns="1"  class="col-md-12">
                            <p:outputLabel value="Función" for="numc"/>
                            <h:outputText id="numc" value="#{controladorFunciones.nuevoOBJFuncionesSelect.nombre}" style="text-align: justify" class="col-md-12"/>
                            <p:message for="numc"/>

                            <p:outputLabel value="Comentario" for="ct"/>
                            <p:inputTextarea id="ct" value="#{controladorFunciones.nuevoOBJComentariosfunciones.comentario}" required="true" requiredMessage="El comentario es obligatorio." class="col-md-12"/>
                            <p:message for="ct"/>                       
                        </h:panelGrid>
                    </p:outputPanel>
                </p:dialog>
            </h:form>

            <h:form id="frmObser" >
                <p:dialog id="dlgObser" header="Comentarios" widgetVar="dlgObser" minimizable="true" maximizable="true" position="center">
                    <p:dataTable id="tblComents"  value="#{controladorFunciones.listaComentariosfuncionesConsulta}"  var="comentario"
                                 paginator="true" rows="5"
                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                 rowsPerPageTemplate="5,10,15,20,25,30"
                                 emptyMessage="No se encontraron funciones." rendered="true"
                                 editable="true" style="width:1000px; margin-bottom:20px">

                        <p:ajax event="rowEdit" listener="#{controladorFunciones.onRowEditComent}" update="tblComents" />
                        <p:ajax event="rowEditCancel" listener="#{controladorFunciones.onRowCancel}" update="tblComents" />

                        <p:column headerText="Empleado" 
                                  sortBy="#{comentario.idPersonal.nombre}" 
                                  filterBy="#{comentario.idPersonal.nombre}" 
                                  filterMatchMode="contains"
                                  style="width:130px; text-align: justify">
                            <h:outputText value="#{comentario.idPersonal.nombre}" />
                        </p:column>

                        <p:column headerText="Categoría de función" 
                                  sortBy="#{comentario.idFuncion.categoriaOperativa.nombre}" 
                                  filterBy="#{comentario.idFuncion.categoriaOperativa.nombre}" 
                                  filterMatchMode="contains"
                                  style="width:150px; text-align: justify">
                            <h:outputText value="#{comentario.idFuncion.categoriaOperativa.nombre}" />
                        </p:column>

                        <p:column headerText="Función" 
                                  sortBy="#{comentario.idFuncion.nombre}" 
                                  filterBy="#{comentario.idFuncion.nombre}" 
                                  filterMatchMode="contains"
                                  style="width:200px; text-align: justify">
                            <h:outputText value="#{comentario.idFuncion.nombre}" />
                        </p:column>

                        <p:column headerText="Observación" 
                                  sortBy="#{comentario.comentario}" 
                                  filterBy="#{comentario.comentario}" 
                                  filterMatchMode="contains"
                                  style="width:200px; text-align: justify">
                            <h:outputText value="#{comentario.comentario}" />
                        </p:column>

                        <p:column headerText="Fecha" 
                                  sortBy="#{comentario.fechaHoraC}" 
                                  filterBy="#{comentario.fechaHoraC}" 
                                  filterMatchMode="contains"
                                  style="width:130px; text-align: justify">
                            <h:outputLabel value="#{comentario.fechaHoraC}"><f:convertDateTime locale="es" pattern="dd/MMMM/yyyy HH:mm:ss"/></h:outputLabel>
                        </p:column>

                        <p:column headerText="Estatus" 
                                  sortBy="#{comentario.esatus}" 
                                  filterBy="#{comentario.esatus}" 
                                  filterMatchMode="contains"
                                  style="width:130px; text-align: justify">
                            <p:cellEditor>
                                <f:facet name="output"><h:outputText value="#{comentario.esatus eq 0?'Pendiente':'Resuelta'}" /></f:facet>
                                <f:facet name="input">
                                    <h:selectOneMenu value="#{comentario.esatus}">
                                        <f:selectItems value="#{controladorFunciones.listalistaEstatus}" var="esatus" itemLabel="#{esatus.nombre}" itemValue="#{esatus.clave}" />
                                    </h:selectOneMenu>
                                </f:facet>
                            </p:cellEditor>
                        </p:column>

                        <p:column headerText="Editar" style="width:50px">
                            <p:rowEditor />
                        </p:column>                  
                    </p:dataTable>  
                </p:dialog>
            </h:form>

            <h:form id="frmDelate1" >
                <p:dialog id="dlgDelate1" header="Eliminación" widgetVar="dlgDelate1" minimizable="true" maximizable="true" position="center">
                    <f:facet name="footer">
                        <p:commandButton id="btncancelar" value="NO" class="btn btn-primary" icon="fa fa-check" process="@form" update="@form" onsuccess="PF('dlgDelate1').hide();"/>
                        <p:commandButton id="btnAceptar" value="SI" class="btn btn-primary" actionListener="#{controladorFunciones.eliminarFuncion()}" icon="fa fa-check" process="@form" update="@form" onsuccess="PF('dlgDelate1').hide();"/>
                    </f:facet>
                    <p:outputPanel>            
                        <p:autoUpdate/>
                        <h:panelGrid columns="1"  class="col-md-12">
                            <p:outputLabel value="¿Está seguro de eliminar este registro?"/>
                        </h:panelGrid>
                    </p:outputPanel>
                </p:dialog>
            </h:form>     

            <h:form id="des">
                <p:outputPanel autoUpdate="true" style="max-width: 350px; max-height: 550px;">
                    <p:dialog id="datos" widgetVar="datos" position="center">
                        <p:tabView style="max-width: 350px; max-height: 550px;">
                            <p:tab title="Datos personales">
                                <div class="row" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
                                    <div class="col-md-12">
                                        <div class="box box-widget widget-user-2">
                                            <div class="widget-user-header bg-aqua-active">
                                                <div class="widget-user-image">
                                                    <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{organigramView4.nuevoEmpleado.clave}.jpg" class="img-circle" alt="#{organigramView4.nuevoEmpleado.clave}" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 100px; height: 100px;"/>
                                                </div>
                                                <h3 class="widget-user-username">#{organigramView4.nuevoEmpleado.nombre}</h3>
                                                <h5 class="widget-user-desc">#{organigramView4.nuevoEmpleado.categoriaOperativaNombre}</h5>
                                            </div>
                                            <div class="box-footer">
                                                <div class="row">
                                                    <div class="col-sm-12 border-right">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Fecha de ingreso:</h5>
                                                            <span class="description-text"><p style="text-align: center">#{organigramView4.fechaI}</p></span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 border-right">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Grado de estudios:</h5>
                                                            <span class="description-text"><p style="text-align: center">#{organigramView4.nuevoEmpleado.perfilProfesional}</p></span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Área de adscripción:</h5>
                                                            <span class="description-text"><p style="text-align: center">#{organigramView4.nuevoEmpleado.areaOperativaNombre}</p></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p:tab>
                            <p:tab title="Funciones generales">
                                <div class="row" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
                                    <div class="col-md-12">
                                        <div class="box box-widget widget-user-2">
                                            <div class="widget-user-header bg-aqua-active">
                                                <div class="widget-user-image">
                                                    <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{organigramView4.nuevoEmpleado.clave}.jpg" class="img-circle" alt="#{organigramView4.nuevoEmpleado.clave}" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 100px; height: 100px;"/>
                                                </div>
                                                <h3 class="widget-user-username">#{organigramView4.nuevoEmpleado.nombre}</h3>
                                                <h5 class="widget-user-desc">#{organigramView4.nuevoEmpleado.categoriaOperativaNombre}</h5>
                                            </div>
                                            <div class="box-footer">
                                                <div class="row">
                                                    <div class="col-sm-12 border-right">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Función genérica</h5>
                                                            <c:forEach var = "i" begin = "0" end = "#{organigramView4.nuevaListaFuncionesGenerales.size()-1}">
                                                                <span class="description-text" style="text-align: justify">#{organigramView4.nuevaListaFuncionesGenerales.get(i)}</span>
                                                                <br/>
                                                                <br/>
                                                            </c:forEach>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p:tab>
                            <p:tab title="Funciones específicas">
                                <div class="row" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
                                    <div class="col-md-12">
                                        <div class="box box-widget widget-user-2">
                                            <div class="widget-user-header bg-aqua-active">
                                                <div class="widget-user-image">
                                                    <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{organigramView4.nuevoEmpleado.clave}.jpg" class="img-circle" alt="#{organigramView4.nuevoEmpleado.clave}" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 100px; height: 100px;"/> 
                                                </div>
                                                <h3 class="widget-user-username">#{organigramView4.nuevoEmpleado.nombre}</h3>
                                                <h5 class="widget-user-desc">#{organigramView4.nuevoEmpleado.categoriaOperativaNombre}</h5>
                                            </div>
                                            <div class="box-footer">
                                                <div class="row">
                                                    <div class="col-sm-12 border-right">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Funciones específicas</h5>
                                                            <c:forEach var = "i" begin = "0" end = "#{organigramView4.nuevaListaFuncionesEspecificas.size()-1}">
                                                                <span class="description-text" style="text-align: justify">#{organigramView4.nuevaListaFuncionesEspecificas.get(i)}</span>
                                                                <br/>
                                                                <br/>
                                                            </c:forEach>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p:tab>
                        </p:tabView>
                    </p:dialog>
                </p:outputPanel>
            </h:form>

            <h:form id="areas">
                <p:outputPanel autoUpdate="true" style="max-width: 350px; max-height: 550px;">
                    <p:dialog id="areEdu" widgetVar="areEdu" position="center">
                        <p:tabView style="max-width: 350px; max-height: 550px;">
                            <p:tab title="Datos personales">
                                <div class="row" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
                                    <div class="col-md-12">
                                        <div class="box box-widget widget-user-2">
                                            <div class="widget-user-header bg-aqua-active">
                                                <div class="widget-user-image">
                                                    <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{organigramView4.nuevoEmpleado.clave}.jpg" class="img-circle" alt="#{organigramView4.nuevoEmpleado.clave}" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 100px; height: 100px;"/>
                                                </div>
                                                <h3 class="widget-user-username">#{organigramView4.nuevoEmpleado.nombre}</h3>
                                                <h5 class="widget-user-desc">#{organigramView4.nuevoEmpleado.categoriaOperativaNombre}</h5>
                                            </div>
                                            <div class="box-footer">
                                                <div class="row">
                                                    <div class="col-sm-12 border-right">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Fecha de ingreso:</h5>
                                                            <span class="description-text"><p style="text-align: center">#{organigramView4.fechaI}</p></span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12 border-right">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Grado de estudios:</h5>
                                                            <span class="description-text"><p style="text-align: center">#{organigramView4.nuevoEmpleado.perfilProfesional}</p></span>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-12">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Área de adscripción:</h5>
                                                            <span class="description-text"><p style="text-align: center">#{organigramView4.nuevoEmpleado.areaOperativaNombre}</p></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p:tab>
                            <p:tab title="Subordinados" >
                                <div class="row" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
                                    <div class="col-md-12">
                                        <div class="box box-widget widget-user-2">
                                            <div class="widget-user-header bg-aqua-active">
                                                <div class="widget-user-image">
                                                    <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{organigramView4.nuevoEmpleado.clave}.jpg" class="img-circle" alt="#{organigramView4.nuevoEmpleado.clave}" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 100px; height: 100px;"/>
                                                </div>
                                                <h3 class="widget-user-username">#{organigramView4.nuevoEmpleado.nombre}</h3>
                                                <h5 class="widget-user-desc">#{organigramView4.nuevoEmpleado.categoriaOperativaNombre}</h5>
                                            </div>
                                            <div class="box-footer">
                                                <div class="row">
                                                    <c:choose>
                                                        <c:when test="#{organigramView4.sec != 0}">
                                                            <div class="col-sm-6 border-right">
                                                                <div class="description-block">
                                                                    <h5 class="description-header">Secretaria(s):</h5>
                                                                    <span class="description-text"><p style="text-align: center">#{organigramView4.sec}</p></span>
                                                                </div>
                                                            </div>
                                                        </c:when>
                                                        <c:when test="#{organigramView4.sec == 0}"/>
                                                    </c:choose>
                                                    <c:choose>
                                                        <c:when test="#{organigramView4.ptc!= 0}">
                                                            <div class="col-sm-6 border-right">
                                                                <div class="description-block">
                                                                    <h5 class="description-header">Profesor(es) de tiempo completo:</h5>
                                                                    <span class="description-text"><p style="text-align: center">#{organigramView4.ptc}</p></span>
                                                                </div>
                                                            </div>
                                                        </c:when>
                                                        <c:when test="#{organigramView4.ptc == 0}"/>
                                                    </c:choose>
                                                    <c:choose>
                                                        <c:when test="#{organigramView4.pda != 0}">
                                                            <div class="col-sm-6">
                                                                <div class="description-block">
                                                                    <h5 class="description-header">Profesor(es) de asignatura:</h5>
                                                                    <span class="description-text"><p style="text-align: center">#{organigramView4.pda}</p></span>
                                                                </div>
                                                            </div>
                                                        </c:when>
                                                        <c:when test="#{organigramView4.pda == 0}"/>
                                                    </c:choose>
                                                    <c:choose>
                                                        <c:when test="#{organigramView4.lab != 0}">
                                                            <div class="col-sm-6">
                                                                <div class="description-block">
                                                                    <h5 class="description-header">Laboratorista(s):</h5>
                                                                    <span class="description-text"><p style="text-align: center">#{organigramView4.lab}</p></span>
                                                                </div>
                                                            </div>
                                                        </c:when>
                                                        <c:when test="#{organigramView4.lab == 0}"/>
                                                    </c:choose>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p:tab>
                            <p:tab title="Funciones generales">
                                <div class="row" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
                                    <div class="col-md-12">
                                        <div class="box box-widget widget-user-2">
                                            <div class="widget-user-header bg-aqua-active">
                                                <div class="widget-user-image">
                                                    <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{organigramView4.nuevoEmpleado.clave}.jpg" class="img-circle" alt="#{organigramView4.nuevoEmpleado.clave}" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 100px; height: 100px;"/>
                                                </div>
                                                <h3 class="widget-user-username">#{organigramView4.nuevoEmpleado.nombre}</h3>
                                                <h5 class="widget-user-desc">#{organigramView4.nuevoEmpleado.categoriaOperativaNombre}</h5>
                                            </div>
                                            <div class="box-footer">
                                                <div class="row">
                                                    <div class="col-sm-12 border-right">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Función genérica</h5>
                                                            <c:forEach var = "i" begin = "0" end = "#{organigramView4.nuevaListaFuncionesGenerales.size()-1}">
                                                                <span class="description-text" style="text-align: justify">#{organigramView4.nuevaListaFuncionesGenerales.get(i)}</span>
                                                                <br/>
                                                                <br/>
                                                            </c:forEach>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p:tab>
                            <p:tab title="Funciones específicas">
                                <div class="row" ondragstart="return false" onselectstart="return false" oncontextmenu="return false">
                                    <div class="col-md-12">
                                        <div class="box box-widget widget-user-2">
                                            <div class="widget-user-header bg-aqua-active">
                                                <div class="widget-user-image">
                                                    <img src="http://siip.utxj.edu.mx/sgot-images/evidencias/personal/#{organigramView4.nuevoEmpleado.clave}.jpg" class="img-circle" alt="#{organigramView4.nuevoEmpleado.clave}" title="Personal #{organigramView4.nuevoEmpleado.clave}" style="width: 100px; height: 100px;"/>
                                                </div>
                                                <h3 class="widget-user-username">#{organigramView4.nuevoEmpleado.nombre}</h3>
                                                <h5 class="widget-user-desc">#{organigramView4.nuevoEmpleado.categoriaOperativaNombre}</h5>
                                            </div>
                                            <div class="box-footer">
                                                <div class="row">
                                                    <div class="col-sm-12 border-right">
                                                        <div class="description-block">
                                                            <h5 class="description-header">Funciones específicas </h5>
                                                            <c:forEach var = "i" begin = "0" end = "#{organigramView4.nuevaListaFuncionesEspecificas.size()-1}">
                                                                <span class="description-text" style="text-align: justify">#{organigramView4.nuevaListaFuncionesEspecificas.get(i)}</span>
                                                                <br/>
                                                                <br/>
                                                            </c:forEach>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p:tab>
                        </p:tabView>
                    </p:dialog>
                </p:outputPanel>
            </h:form>

        </c:if>
        <c:if test="#{controladorEmpleado.nuevoOBJListaPersonal.actividadNombre eq 'Administrativo' || controladorEmpleado.nuevoOBJListaPersonal.actividadNombre eq 'Docente'}">
            <h1>
                Esta página está disponible solo para directivos.
            </h1>
        </c:if>
    </ui:define>
    <h:outputScript library="js" name="funciones.js" />

</ui:composition>
